{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":82,"index":82}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":84},"end":{"line":2,"column":42,"index":126}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"../services/storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":128},"end":{"line":3,"column":53,"index":181}}],"key":"zqGJUMQQZwIry90rqgd1gunX3aI=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,\"AuthProvider\",{enumerable:!0,get:function(){return s}}),Object.defineProperty(e,\"useAuth\",{enumerable:!0,get:function(){return l}});var t=r(d[0]),o=r(d[1]),n=r(d[2]),c=r(d[3]);const u=(0,t.createContext)(void 0),s=({children:s})=>{const[l,h]=(0,t.useState)(null),[v,f]=(0,t.useState)(!0);(0,t.useEffect)(()=>{y()},[]);const y=async()=>{try{const t=await n.storageService.getToken(),o=await n.storageService.getUser();t&&o&&h(o)}catch(t){console.error('Auth check error:',t)}finally{f(!1)}};return(0,c.jsx)(u.Provider,{value:{user:l,loading:v,login:async(t,c)=>{try{const u=await o.authAPI.login(t,c);await n.storageService.saveAuth(u.access_token,u.user),h(u.user)}catch(t){throw console.error('Login error:',t),t}},logout:async()=>{try{await n.storageService.clearAuth(),h(null)}catch(t){console.error('Logout error:',t)}},isAuthenticated:!!l},children:s})},l=()=>{const o=(0,t.useContext)(u);if(void 0===o)throw new Error('useAuth must be used within an AuthProvider');return o}});","lineCount":1,"map":[[1,90,16,0,"Object"],[1,97,16,0,"defineProperty"],[1,112,16,0,"e"],[1,114,16,0],[1,130,16,0,"enumerable"],[1,142,16,0],[1,144,16,0,"get"],[1,148,16,0],[1,166,16,0,"AuthProvider"],[1,167,16,0],[1,171,74,0,"Object"],[1,178,74,0,"defineProperty"],[1,193,74,0,"e"],[1,195,74,0],[1,206,74,0,"enumerable"],[1,218,74,0],[1,220,74,0,"get"],[1,224,74,0],[1,242,74,0,"useAuth"],[1,243,74,0],[1,247,1,0],[1,251,1,0,"_react"],[1,253,1,0,"r"],[1,255,1,0,"d"],[1,257,1,0],[1,261,2,0,"_servicesApi"],[1,263,2,0,"r"],[1,265,2,0,"d"],[1,267,2,0],[1,271,3,0,"_servicesStorage"],[1,273,3,0,"r"],[1,275,3,0,"d"],[1,277,3,0],[1,281,3,53,"_reactJsxRuntime"],[1,283,3,53,"r"],[1,285,3,53,"d"],[1,287,3,53],[1,291,14,0],[1,297,14,6,"AuthContext"],[1,300,14,20],[1,302,14,20,"createContext"],[1,304,14,33,"createContext"],[1,324,14,63,"undefined"],[1,327,16,13,"AuthProvider"],[1,329,16,28,"AuthProvider"],[1,331,16,31,"children"],[1,346,17,2],[1,352,17,9,"user"],[1,354,17,15,"setUser"],[1,358,17,26],[1,360,17,26,"useState"],[1,362,17,34,"useState"],[1,372,17,48],[1,379,18,9,"loading"],[1,381,18,18,"setLoading"],[1,385,18,32],[1,387,18,32,"useState"],[1,389,18,40,"useState"],[1,400,18,41],[1,404,20,2],[1,406,20,2,"useEffect"],[1,408,20,11,"useEffect"],[1,419,20,12],[1,424,21,4,"checkAuth"],[1,429,22,5],[1,433,24,2],[1,439,24,8,"checkAuth"],[1,441,24,20,"async"],[1,451,25,4],[1,455,26,6],[1,461,26,12,"token"],[1,469,26,26,"storageService"],[1,471,26,40,"storageService"],[1,486,26,41,"getToken"],[1,497,27,12,"savedUser"],[1,505,27,30,"storageService"],[1,507,27,44,"storageService"],[1,522,27,45,"getUser"],[1,532,29,10,"token"],[1,535,29,19,"savedUser"],[1,538,30,8,"setUser"],[1,540,30,16,"savedUser"],[1,542,32,4],[1,543,32,6],[1,549,32,13,"error"],[1,552,33,6,"console"],[1,560,33,14,"error"],[1,566,33,20],[1,586,33,41,"error"],[1,588,34,4],[1,589,34,5],[1,597,35,6,"setLoading"],[1,600,35,17],[1,602,36,4],[1,605,59,2],[1,612,60,4],[1,614,60,4,"_reactJsxRuntime"],[1,616,60,4,"jsx"],[1,621,60,5,"AuthContext"],[1,623,60,17,"Provider"],[1,632,60,25],[1,633,61,6,"value"],[1,639,61,13],[1,640,62,8,"user"],[1,647,63,8,"loading"],[1,657,64,8,"login"],[1,663,39,16,"async"],[1,669,39,23,"email"],[1,671,39,38,"password"],[1,676,40,4],[1,680,41,6],[1,686,41,12,"response"],[1,694,41,29,"authAPI"],[1,696,41,36,"authAPI"],[1,704,41,37,"login"],[1,710,41,43,"email"],[1,712,41,50,"password"],[1,721,42,12,"storageService"],[1,723,42,26,"storageService"],[1,738,42,27,"saveAuth"],[1,747,42,36,"response"],[1,749,42,45,"access_token"],[1,762,42,59,"response"],[1,764,42,68,"user"],[1,770,43,6,"setUser"],[1,772,43,14,"response"],[1,774,43,23,"user"],[1,779,44,4],[1,780,44,6],[1,786,44,13,"error"],[1,789,46,6],[1,795,45,6,"console"],[1,803,45,14,"error"],[1,809,45,20],[1,824,45,36,"error"],[1,827,46,12,"error"],[1,828,47,4],[1,831,65,8,"logout"],[1,838,50,17,"async"],[1,848,51,4],[1,858,52,12,"storageService"],[1,860,52,26,"storageService"],[1,875,52,27,"clearAuth"],[1,887,53,6,"setUser"],[1,889,53,14],[1,894,54,4],[1,895,54,6],[1,901,54,13,"error"],[1,904,55,6,"console"],[1,912,55,14,"error"],[1,918,55,20],[1,934,55,37,"error"],[1,936,56,4],[1,939,66,8,"isAuthenticated"],[1,957,66,27,"user"],[1,960,67,8,"children"],[1,969,69,7,"children"],[1,974,74,13,"useAuth"],[1,976,74,23,"useAuth"],[1,981,75,2],[1,987,75,8,"context"],[1,990,75,18],[1,992,75,18,"useContext"],[1,994,75,28,"useContext"],[1,1006,75,29,"AuthContext"],[1,1009,76,2],[1,1017,76,18,"undefined"],[1,1021,76,6,"context"],[1,1023,77,4],[1,1029,77,10],[1,1033,77,14,"Error"],[1,1039,77,20],[1,1086,79,2],[1,1093,79,9,"context"],[1,1095,80,2],[1,1098]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","logout","useAuth"],"mappings":"AAA;4BCe;YCI;GDE;oBEE;GFa;gBGE;GHS;iBIE;GJO;CDe;uBME;CNM"},"hasCjsExports":false},"type":"js/module"}]}