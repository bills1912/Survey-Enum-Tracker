{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":82,"index":82}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-community/netinfo","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":84},"end":{"line":2,"column":54,"index":138}}],"key":"PqZcYTlMIVnzFjdViPzMiGUu7Hg=","exportNames":["*"],"imports":1}},{"name":"../services/syncService","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":140},"end":{"line":3,"column":54,"index":194}}],"key":"joJd5R6pPIG9/TZe5fTFFjaC2zk=","exportNames":["*"],"imports":1}},{"name":"../services/storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":196},"end":{"line":4,"column":53,"index":249}}],"key":"zqGJUMQQZwIry90rqgd1gunX3aI=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"3suYSPX9nHbHZ1xNTsKXtKj0atE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"NetworkProvider\",{enumerable:!0,get:function(){return v}}),Object.defineProperty(_e,\"useNetwork\",{enumerable:!0,get:function(){return w}});var e,t=r(d[0]),n=r(d[1]),s=(e=n)&&e.__esModule?e:{default:e},o=r(d[2]),c=r(d[3]),u=r(d[4]);const l=(0,t.createContext)(void 0),v=({children:e})=>{const[n,v]=(0,t.useState)(!0),[w,f]=(0,t.useState)(0);(0,t.useEffect)(()=>{const e=s.default.addEventListener(e=>{v(e.isConnected??!1),e.isConnected&&!n&&P()}),t=o.syncService.startAutoSync(2);y();const c=setInterval(y,3e4);return()=>{e(),clearInterval(t),clearInterval(c)}},[]);const y=async()=>{const e=await c.storageService.getPendingLocations(),t=await c.storageService.getPendingMessages(),n=await c.storageService.getPendingRespondents();f(e.length+t.length+n.length)},P=async()=>{await o.syncService.syncAll(),await y()};return(0,u.jsx)(l.Provider,{value:{isConnected:n,isOnline:n,pendingSync:w,syncNow:P},children:e})},w=()=>{const e=(0,t.useContext)(l);if(void 0===e)throw new Error('useNetwork must be used within a NetworkProvider');return e}});","lineCount":1,"map":[[1,92,15,0,"Object"],[1,99,15,0,"defineProperty"],[1,114,15,0,"_e"],[1,117,15,0],[1,136,15,0,"enumerable"],[1,148,15,0],[1,150,15,0,"get"],[1,154,15,0],[1,172,15,0,"NetworkProvider"],[1,173,15,0],[1,177,70,0,"Object"],[1,184,70,0,"defineProperty"],[1,199,70,0,"_e"],[1,202,70,0],[1,216,70,0,"enumerable"],[1,228,70,0],[1,230,70,0,"get"],[1,234,70,0],[1,252,70,0,"useNetwork"],[1,253,70,0],[1,257,1,0],[1,261],[1,263,1,0,"_react"],[1,265,1,0,"r"],[1,267,1,0,"d"],[1,269,1,0],[1,273,2,0,"_reactNativeCommunityNetinfo"],[1,275,2,0,"r"],[1,277,2,0,"d"],[1,279,2,0],[1,283,2,0,"NetInfo"],[1,286],[1,288,2,0,"_reactNativeCommunityNetinfo"],[1,292],[1,319,3,0,"_servicesSyncService"],[1,321,3,0,"r"],[1,323,3,0,"d"],[1,325,3,0],[1,329,4,0,"_servicesStorage"],[1,331,4,0,"r"],[1,333,4,0,"d"],[1,335,4,0],[1,339,4,53,"_reactJsxRuntime"],[1,341,4,53,"r"],[1,343,4,53,"d"],[1,345,4,53],[1,349,13,0],[1,355,13,6,"NetworkContext"],[1,358,13,23],[1,360,13,23,"createContext"],[1,362,13,36,"createContext"],[1,382,13,69,"undefined"],[1,385,15,13,"NetworkProvider"],[1,387,15,31,"NetworkProvider"],[1,389,15,34,"children"],[1,404,16,2],[1,410,16,9,"isConnected"],[1,412,16,22,"setIsConnected"],[1,416,16,40],[1,418,16,40,"useState"],[1,420,16,48,"useState"],[1,431,16,49],[1,435,17,9,"pendingSync"],[1,437,17,22,"setPendingSync"],[1,441,17,40],[1,443,17,40,"useState"],[1,445,17,48,"useState"],[1,455,17,49],[1,459,19,2],[1,461,19,2,"useEffect"],[1,463,19,11,"useEffect"],[1,474,19,12],[1,479,21,4],[1,485,21,10,"unsubscribe"],[1,487,21,24,"NetInfo"],[1,489,21,31,"default"],[1,497,21,32,"addEventListener"],[1,514,21,50,"state"],[1,518,22,6,"setIsConnected"],[1,520,22,21,"state"],[1,522,22,27,"isConnected"],[1,536,22,42],[1,539,25,10,"state"],[1,541,25,16,"isConnected"],[1,555,25,32,"isConnected"],[1,558,26,8,"syncNow"],[1,564,31,10,"syncInterval"],[1,566,31,25,"syncService"],[1,568,31,36,"syncService"],[1,580,31,37,"startAutoSync"],[1,594,31,51],[1,597,34,4,"updatePendingCount"],[1,601,35,4],[1,607,35,10,"countInterval"],[1,609,35,26,"setInterval"],[1,621,35,38,"updatePendingCount"],[1,623,35,58],[1,628,37,4],[1,634,37,11],[1,639,38,6,"unsubscribe"],[1,643,39,6,"clearInterval"],[1,657,39,20,"syncInterval"],[1,660,40,6,"clearInterval"],[1,674,40,20,"countInterval"],[1,679,42,5],[1,683,44,2],[1,689,44,8,"updatePendingCount"],[1,691,44,29,"async"],[1,701,45,4],[1,707,45,10,"locations"],[1,715,45,28,"storageService"],[1,717,45,42,"storageService"],[1,732,45,43,"getPendingLocations"],[1,754,46,10,"messages"],[1,762,46,27,"storageService"],[1,764,46,41,"storageService"],[1,779,46,42,"getPendingMessages"],[1,800,47,10,"respondents"],[1,808,47,30,"storageService"],[1,810,47,44,"storageService"],[1,825,47,45,"getPendingRespondents"],[1,849,48,4,"setPendingSync"],[1,851,48,19,"locations"],[1,853,48,29,"length"],[1,860,48,38,"messages"],[1,862,48,47,"length"],[1,869,48,56,"respondents"],[1,871,48,68,"length"],[1,880,51,8,"syncNow"],[1,882,51,18,"async"],[1,898,52,10,"syncService"],[1,900,52,21,"syncService"],[1,912,52,22,"syncAll"],[1,928,53,10,"updatePendingCount"],[1,933,56,2],[1,940,57,4],[1,942,57,4,"_reactJsxRuntime"],[1,944,57,4,"jsx"],[1,949,57,5,"NetworkContext"],[1,951,57,20,"Provider"],[1,960,57,28],[1,961,58,6,"value"],[1,967,58,13],[1,968,59,8,"isConnected"],[1,982,60,8,"isOnline"],[1,991,60,18,"isConnected"],[1,993,61,8,"pendingSync"],[1,1007,62,8,"syncNow"],[1,1018,63,8,"children"],[1,1027,65,7,"children"],[1,1032,70,13,"useNetwork"],[1,1034,70,26,"useNetwork"],[1,1039,71,2],[1,1045,71,8,"context"],[1,1048,71,18],[1,1050,71,18,"useContext"],[1,1052,71,28,"useContext"],[1,1064,71,29,"NetworkContext"],[1,1067,72,2],[1,1075,72,18,"undefined"],[1,1079,72,6,"context"],[1,1081,73,4],[1,1087,73,10],[1,1091,73,14,"Error"],[1,1097,73,20],[1,1149,75,2],[1,1156,75,9,"context"],[1,1158,76,2],[1,1161]],"functionMap":{"names":["<global>","NetworkProvider","useEffect$argument_0","NetInfo.addEventListener$argument_0","<anonymous>","updatePendingCount","syncNow","useNetwork"],"mappings":"AAA;+BCc;YCI;iDCE;KDO;WES;KFI;GDC;6BIE;GJK;kBKE;GLG;CDc;0BOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}