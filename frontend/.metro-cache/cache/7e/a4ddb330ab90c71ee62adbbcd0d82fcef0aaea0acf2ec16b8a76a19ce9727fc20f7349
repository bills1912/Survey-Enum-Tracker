{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":42,"index":132}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"../services/storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":133},"end":{"line":3,"column":53,"index":186}}],"key":"zqGJUMQQZwIry90rqgd1gunX3aI=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _servicesApi = require(_dependencyMap[3], \"../services/api\");\n  var _servicesStorage = require(_dependencyMap[4], \"../services/storage\");\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  var AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  var AuthProvider = _ref => {\n    _s();\n    var children = _ref.children;\n    var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n    var _useState3 = (0, _react.useState)(true),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    var checkAuth = /*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var token = yield _servicesStorage.storageService.getToken();\n          var savedUser = yield _servicesStorage.storageService.getUser();\n          if (token && savedUser) {\n            setUser(savedUser);\n          }\n        } catch (error) {\n          console.error('Auth check error:', error);\n        } finally {\n          setLoading(false);\n        }\n      });\n      return function checkAuth() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    var login = /*#__PURE__*/function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* (email, password) {\n        try {\n          var response = yield _servicesApi.authAPI.login(email, password);\n          yield _servicesStorage.storageService.saveAuth(response.access_token, response.user);\n          setUser(response.user);\n        } catch (error) {\n          console.error('Login error:', error);\n          throw error;\n        }\n      });\n      return function login(_x, _x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    var logout = /*#__PURE__*/function () {\n      var _ref4 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          yield _servicesStorage.storageService.clearAuth();\n          setUser(null);\n        } catch (error) {\n          console.error('Logout error:', error);\n        }\n      });\n      return function logout() {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        logout,\n        isAuthenticated: !!user\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n  _c = AuthProvider;\n  var useAuth = () => {\n    _s2();\n    var context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":124,"map":[[15,2,16,0,"Object"],[15,8,16,0],[15,9,16,0,"defineProperty"],[15,23,16,0],[15,24,16,0,"exports"],[15,31,16,0],[16,4,16,0,"enumerable"],[16,14,16,0],[17,4,16,0,"get"],[17,7,16,0],[17,18,16,0,"get"],[17,19,16,0],[18,6,16,0],[18,13,16,0,"AuthProvider"],[18,25,16,0],[19,4,16,0],[20,2,16,0],[21,2,74,0,"Object"],[21,8,74,0],[21,9,74,0,"defineProperty"],[21,23,74,0],[21,24,74,0,"exports"],[21,31,74,0],[22,4,74,0,"enumerable"],[22,14,74,0],[23,4,74,0,"get"],[23,7,74,0],[23,18,74,0,"get"],[23,19,74,0],[24,6,74,0],[24,13,74,0,"useAuth"],[24,20,74,0],[25,4,74,0],[26,2,74,0],[27,2,80,2],[27,6,80,2,"_babelRuntimeHelpersAsyncToGenerator"],[27,42,80,2],[27,45,80,2,"require"],[27,52,80,2],[27,53,80,2,"_dependencyMap"],[27,67,80,2],[28,2,80,2],[28,6,80,2,"_asyncToGenerator"],[28,23,80,2],[28,26,80,2,"_interopDefault"],[28,41,80,2],[28,42,80,2,"_babelRuntimeHelpersAsyncToGenerator"],[28,78,80,2],[29,2,80,2],[29,6,80,2,"_babelRuntimeHelpersSlicedToArray"],[29,39,80,2],[29,42,80,2,"require"],[29,49,80,2],[29,50,80,2,"_dependencyMap"],[29,64,80,2],[30,2,80,2],[30,6,80,2,"_slicedToArray"],[30,20,80,2],[30,23,80,2,"_interopDefault"],[30,38,80,2],[30,39,80,2,"_babelRuntimeHelpersSlicedToArray"],[30,72,80,2],[31,2,1,0],[31,6,1,0,"_react"],[31,12,1,0],[31,15,1,0,"require"],[31,22,1,0],[31,23,1,0,"_dependencyMap"],[31,37,1,0],[32,2,2,0],[32,6,2,0,"_servicesApi"],[32,18,2,0],[32,21,2,0,"require"],[32,28,2,0],[32,29,2,0,"_dependencyMap"],[32,43,2,0],[33,2,3,0],[33,6,3,0,"_servicesStorage"],[33,22,3,0],[33,25,3,0,"require"],[33,32,3,0],[33,33,3,0,"_dependencyMap"],[33,47,3,0],[34,2,3,53],[34,6,3,53,"_reactJsxDevRuntime"],[34,25,3,53],[34,28,3,53,"require"],[34,35,3,53],[34,36,3,53,"_dependencyMap"],[34,50,3,53],[35,2,14,0],[35,6,14,6,"AuthContext"],[35,17,14,17],[35,33,14,20],[35,37,14,20,"createContext"],[35,43,14,33],[35,44,14,33,"createContext"],[35,57,14,33],[35,59,14,63,"undefined"],[35,68,14,72],[35,69,14,73],[36,2,16,7],[36,6,16,13,"AuthProvider"],[36,18,16,25],[36,21,16,28,"_ref"],[36,25,16,28],[36,29,16,71],[37,4,16,71,"_s"],[37,6,16,71],[38,4,16,71],[38,8,16,31,"children"],[38,16,16,39],[38,19,16,39,"_ref"],[38,23,16,39],[38,24,16,31,"children"],[38,32,16,39],[39,4,17,2],[39,8,17,2,"_useState"],[39,17,17,2],[39,20,17,26],[39,24,17,26,"useState"],[39,30,17,34],[39,31,17,34,"useState"],[39,39,17,34],[39,41,17,48],[39,45,17,52],[39,46,17,53],[40,6,17,53,"_useState2"],[40,16,17,53],[40,23,17,53,"_slicedToArray"],[40,37,17,53],[40,38,17,53,"default"],[40,45,17,53],[40,47,17,53,"_useState"],[40,56,17,53],[41,6,17,9,"user"],[41,10,17,13],[41,13,17,13,"_useState2"],[41,23,17,13],[42,6,17,15,"setUser"],[42,13,17,22],[42,16,17,22,"_useState2"],[42,26,17,22],[43,4,18,2],[43,8,18,2,"_useState3"],[43,18,18,2],[43,21,18,32],[43,25,18,32,"useState"],[43,31,18,40],[43,32,18,40,"useState"],[43,40,18,40],[43,42,18,41],[43,46,18,45],[43,47,18,46],[44,6,18,46,"_useState4"],[44,16,18,46],[44,23,18,46,"_slicedToArray"],[44,37,18,46],[44,38,18,46,"default"],[44,45,18,46],[44,47,18,46,"_useState3"],[44,57,18,46],[45,6,18,9,"loading"],[45,13,18,16],[45,16,18,16,"_useState4"],[45,26,18,16],[46,6,18,18,"setLoading"],[46,16,18,28],[46,19,18,28,"_useState4"],[46,29,18,28],[47,4,20,2],[47,8,20,2,"useEffect"],[47,14,20,11],[47,15,20,11,"useEffect"],[47,24,20,11],[47,26,20,12],[47,32,20,18],[48,6,21,4,"checkAuth"],[48,15,21,13],[48,16,21,14],[48,17,21,15],[49,4,22,2],[49,5,22,3],[49,7,22,5],[49,9,22,7],[49,10,22,8],[50,4,24,2],[50,8,24,8,"checkAuth"],[50,17,24,17],[51,6,24,17],[51,10,24,17,"_ref2"],[51,15,24,17],[51,22,24,17,"_asyncToGenerator"],[51,39,24,17],[51,40,24,17,"default"],[51,47,24,17],[51,49,24,20],[51,62,24,32],[52,8,25,4],[52,12,25,8],[53,10,26,6],[53,14,26,12,"token"],[53,19,26,17],[53,28,26,26,"storageService"],[53,44,26,40],[53,45,26,40,"storageService"],[53,59,26,40],[53,60,26,41,"getToken"],[53,68,26,49],[53,69,26,50],[53,70,26,51],[54,10,27,6],[54,14,27,12,"savedUser"],[54,23,27,21],[54,32,27,30,"storageService"],[54,48,27,44],[54,49,27,44,"storageService"],[54,63,27,44],[54,64,27,45,"getUser"],[54,71,27,52],[54,72,27,53],[54,73,27,54],[55,10,29,6],[55,14,29,10,"token"],[55,19,29,15],[55,23,29,19,"savedUser"],[55,32,29,28],[55,34,29,30],[56,12,30,8,"setUser"],[56,19,30,15],[56,20,30,16,"savedUser"],[56,29,30,25],[56,30,30,26],[57,10,31,6],[58,8,32,4],[58,9,32,5],[58,10,32,6],[58,17,32,13,"error"],[58,22,32,18],[58,24,32,20],[59,10,33,6,"console"],[59,17,33,13],[59,18,33,14,"error"],[59,23,33,19],[59,24,33,20],[59,43,33,39],[59,45,33,41,"error"],[59,50,33,46],[59,51,33,47],[60,8,34,4],[60,9,34,5],[60,18,34,14],[61,10,35,6,"setLoading"],[61,20,35,16],[61,21,35,17],[61,26,35,22],[61,27,35,23],[62,8,36,4],[63,6,37,2],[63,7,37,3],[64,6,37,3],[64,22,24,8,"checkAuth"],[64,31,24,17,"checkAuth"],[64,32,24,17],[65,8,24,17],[65,15,24,17,"_ref2"],[65,20,24,17],[65,21,24,17,"apply"],[65,26,24,17],[65,33,24,17,"arguments"],[65,42,24,17],[66,6,24,17],[67,4,24,17],[67,7,37,3],[68,4,39,2],[68,8,39,8,"login"],[68,13,39,13],[69,6,39,13],[69,10,39,13,"_ref3"],[69,15,39,13],[69,22,39,13,"_asyncToGenerator"],[69,39,39,13],[69,40,39,13,"default"],[69,47,39,13],[69,49,39,16],[69,60,39,23,"email"],[69,65,39,36],[69,67,39,38,"password"],[69,75,39,54],[69,77,39,59],[70,8,40,4],[70,12,40,8],[71,10,41,6],[71,14,41,12,"response"],[71,22,41,20],[71,31,41,29,"authAPI"],[71,43,41,36],[71,44,41,36,"authAPI"],[71,51,41,36],[71,52,41,37,"login"],[71,57,41,42],[71,58,41,43,"email"],[71,63,41,48],[71,65,41,50,"password"],[71,73,41,58],[71,74,41,59],[72,10,42,6],[72,16,42,12,"storageService"],[72,32,42,26],[72,33,42,26,"storageService"],[72,47,42,26],[72,48,42,27,"saveAuth"],[72,56,42,35],[72,57,42,36,"response"],[72,65,42,44],[72,66,42,45,"access_token"],[72,78,42,57],[72,80,42,59,"response"],[72,88,42,67],[72,89,42,68,"user"],[72,93,42,72],[72,94,42,73],[73,10,43,6,"setUser"],[73,17,43,13],[73,18,43,14,"response"],[73,26,43,22],[73,27,43,23,"user"],[73,31,43,27],[73,32,43,28],[74,8,44,4],[74,9,44,5],[74,10,44,6],[74,17,44,13,"error"],[74,22,44,18],[74,24,44,20],[75,10,45,6,"console"],[75,17,45,13],[75,18,45,14,"error"],[75,23,45,19],[75,24,45,20],[75,38,45,34],[75,40,45,36,"error"],[75,45,45,41],[75,46,45,42],[76,10,46,6],[76,16,46,12,"error"],[76,21,46,17],[77,8,47,4],[78,6,48,2],[78,7,48,3],[79,6,48,3],[79,22,39,8,"login"],[79,27,39,13,"login"],[79,28,39,13,"_x"],[79,30,39,13],[79,32,39,13,"_x2"],[79,35,39,13],[80,8,39,13],[80,15,39,13,"_ref3"],[80,20,39,13],[80,21,39,13,"apply"],[80,26,39,13],[80,33,39,13,"arguments"],[80,42,39,13],[81,6,39,13],[82,4,39,13],[82,7,48,3],[83,4,50,2],[83,8,50,8,"logout"],[83,14,50,14],[84,6,50,14],[84,10,50,14,"_ref4"],[84,15,50,14],[84,22,50,14,"_asyncToGenerator"],[84,39,50,14],[84,40,50,14,"default"],[84,47,50,14],[84,49,50,17],[84,62,50,29],[85,8,51,4],[85,12,51,8],[86,10,52,6],[86,16,52,12,"storageService"],[86,32,52,26],[86,33,52,26,"storageService"],[86,47,52,26],[86,48,52,27,"clearAuth"],[86,57,52,36],[86,58,52,37],[86,59,52,38],[87,10,53,6,"setUser"],[87,17,53,13],[87,18,53,14],[87,22,53,18],[87,23,53,19],[88,8,54,4],[88,9,54,5],[88,10,54,6],[88,17,54,13,"error"],[88,22,54,18],[88,24,54,20],[89,10,55,6,"console"],[89,17,55,13],[89,18,55,14,"error"],[89,23,55,19],[89,24,55,20],[89,39,55,35],[89,41,55,37,"error"],[89,46,55,42],[89,47,55,43],[90,8,56,4],[91,6,57,2],[91,7,57,3],[92,6,57,3],[92,22,50,8,"logout"],[92,28,50,14,"logout"],[92,29,50,14],[93,8,50,14],[93,15,50,14,"_ref4"],[93,20,50,14],[93,21,50,14,"apply"],[93,26,50,14],[93,33,50,14,"arguments"],[93,42,50,14],[94,6,50,14],[95,4,50,14],[95,7,57,3],[96,4,59,2],[96,24,60,4],[96,28,60,4,"_reactJsxDevRuntime"],[96,47,60,4],[96,48,60,4,"jsxDEV"],[96,54,60,4],[96,56,60,5,"AuthContext"],[96,67,60,16],[96,68,60,17,"Provider"],[96,76,60,25],[97,6,61,6,"value"],[97,11,61,11],[97,13,61,13],[98,8,62,8,"user"],[98,12,62,12],[99,8,63,8,"loading"],[99,15,63,15],[100,8,64,8,"login"],[100,13,64,13],[101,8,65,8,"logout"],[101,14,65,14],[102,8,66,8,"isAuthenticated"],[102,23,66,23],[102,25,66,25],[102,26,66,26],[102,27,66,27,"user"],[103,6,67,6],[103,7,67,8],[104,6,67,8,"children"],[104,14,67,8],[104,16,69,7,"children"],[105,4,69,15],[106,6,69,15,"fileName"],[106,14,69,15],[106,16,69,15,"_jsxFileName"],[106,28,69,15],[107,6,69,15,"lineNumber"],[107,16,69,15],[108,6,69,15,"columnNumber"],[108,18,69,15],[109,4,69,15],[109,11,70,26],[109,12,70,27],[110,2,72,0],[110,3,72,1],[111,2,72,2,"_s"],[111,4,72,2],[111,5,16,13,"AuthProvider"],[111,17,16,25],[112,2,16,25,"_c"],[112,4,16,25],[112,7,16,13,"AuthProvider"],[112,19,16,25],[113,2,74,7],[113,6,74,13,"useAuth"],[113,13,74,20],[113,16,74,23,"useAuth"],[113,17,74,23],[113,22,74,29],[114,4,74,29,"_s2"],[114,7,74,29],[115,4,75,2],[115,8,75,8,"context"],[115,15,75,15],[115,18,75,18],[115,22,75,18,"useContext"],[115,28,75,28],[115,29,75,28,"useContext"],[115,39,75,28],[115,41,75,29,"AuthContext"],[115,52,75,40],[115,53,75,41],[116,4,76,2],[116,8,76,6,"context"],[116,15,76,13],[116,20,76,18,"undefined"],[116,29,76,27],[116,31,76,29],[117,6,77,4],[117,12,77,10],[117,16,77,14,"Error"],[117,21,77,19],[117,22,77,20],[117,67,77,65],[117,68,77,66],[118,4,78,2],[119,4,79,2],[119,11,79,9,"context"],[119,18,79,16],[120,2,80,0],[120,3,80,1],[121,2,80,2,"_s2"],[121,5,80,2],[121,6,74,13,"useAuth"],[121,13,74,20],[122,2,74,20],[122,6,74,20,"_c"],[122,8,74,20],[123,2,74,20,"$RefreshReg$"],[123,14,74,20],[123,15,74,20,"_c"],[123,17,74,20],[124,0,74,20],[124,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","logout","useAuth"],"mappings":"AAA;4BCe;YCI;GDE;oBEE;GFa;gBGE;GHS;iBIE;GJO;CDe;uBME;CNM"},"hasCjsExports":false},"type":"js/module"}]}