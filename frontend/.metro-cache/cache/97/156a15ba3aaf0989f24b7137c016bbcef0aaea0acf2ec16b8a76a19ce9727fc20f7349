{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":42,"index":132}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"../services/storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":133},"end":{"line":3,"column":53,"index":186}}],"key":"zqGJUMQQZwIry90rqgd1gunX3aI=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesApi = require(_dependencyMap[1], \"../services/api\");\n  var _servicesStorage = require(_dependencyMap[2], \"../services/storage\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        const token = await _servicesStorage.storageService.getToken();\n        const savedUser = await _servicesStorage.storageService.getUser();\n        if (token && savedUser) {\n          setUser(savedUser);\n        }\n      } catch (error) {\n        console.error('Auth check error:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await _servicesApi.authAPI.login(email, password);\n        await _servicesStorage.storageService.saveAuth(response.access_token, response.user);\n        setUser(response.user);\n      } catch (error) {\n        console.error('Login error:', error);\n        throw error;\n      }\n    };\n    const logout = async () => {\n      try {\n        await _servicesStorage.storageService.clearAuth();\n        setUser(null);\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        logout,\n        isAuthenticated: !!user\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":95,"map":[[10,2,16,0,"Object"],[10,8,16,0],[10,9,16,0,"defineProperty"],[10,23,16,0],[10,24,16,0,"exports"],[10,31,16,0],[11,4,16,0,"enumerable"],[11,14,16,0],[12,4,16,0,"get"],[12,7,16,0],[12,18,16,0,"get"],[12,19,16,0],[13,6,16,0],[13,13,16,0,"AuthProvider"],[13,25,16,0],[14,4,16,0],[15,2,16,0],[16,2,74,0,"Object"],[16,8,74,0],[16,9,74,0,"defineProperty"],[16,23,74,0],[16,24,74,0,"exports"],[16,31,74,0],[17,4,74,0,"enumerable"],[17,14,74,0],[18,4,74,0,"get"],[18,7,74,0],[18,18,74,0,"get"],[18,19,74,0],[19,6,74,0],[19,13,74,0,"useAuth"],[19,20,74,0],[20,4,74,0],[21,2,74,0],[22,2,1,0],[22,6,1,0,"_react"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,2,0],[23,6,2,0,"_servicesApi"],[23,18,2,0],[23,21,2,0,"require"],[23,28,2,0],[23,29,2,0,"_dependencyMap"],[23,43,2,0],[24,2,3,0],[24,6,3,0,"_servicesStorage"],[24,22,3,0],[24,25,3,0,"require"],[24,32,3,0],[24,33,3,0,"_dependencyMap"],[24,47,3,0],[25,2,3,53],[25,6,3,53,"_reactJsxDevRuntime"],[25,25,3,53],[25,28,3,53,"require"],[25,35,3,53],[25,36,3,53,"_dependencyMap"],[25,50,3,53],[26,2,14,0],[26,8,14,6,"AuthContext"],[26,19,14,17],[26,35,14,20],[26,39,14,20,"createContext"],[26,45,14,33],[26,46,14,33,"createContext"],[26,59,14,33],[26,61,14,63,"undefined"],[26,70,14,72],[26,71,14,73],[27,2,16,7],[27,8,16,13,"AuthProvider"],[27,20,16,25],[27,23,16,28,"AuthProvider"],[27,24,16,29],[28,4,16,31,"children"],[29,2,16,65],[29,3,16,66],[29,8,16,71],[30,4,16,71,"_s"],[30,6,16,71],[31,4,17,2],[31,10,17,8],[31,11,17,9,"user"],[31,15,17,13],[31,17,17,15,"setUser"],[31,24,17,22],[31,25,17,23],[31,28,17,26],[31,32,17,26,"useState"],[31,38,17,34],[31,39,17,34,"useState"],[31,47,17,34],[31,49,17,48],[31,53,17,52],[31,54,17,53],[32,4,18,2],[32,10,18,8],[32,11,18,9,"loading"],[32,18,18,16],[32,20,18,18,"setLoading"],[32,30,18,28],[32,31,18,29],[32,34,18,32],[32,38,18,32,"useState"],[32,44,18,40],[32,45,18,40,"useState"],[32,53,18,40],[32,55,18,41],[32,59,18,45],[32,60,18,46],[33,4,20,2],[33,8,20,2,"useEffect"],[33,14,20,11],[33,15,20,11,"useEffect"],[33,24,20,11],[33,26,20,12],[33,32,20,18],[34,6,21,4,"checkAuth"],[34,15,21,13],[34,16,21,14],[34,17,21,15],[35,4,22,2],[35,5,22,3],[35,7,22,5],[35,9,22,7],[35,10,22,8],[36,4,24,2],[36,10,24,8,"checkAuth"],[36,19,24,17],[36,22,24,20],[36,28,24,20,"checkAuth"],[36,29,24,20],[36,34,24,32],[37,6,25,4],[37,10,25,8],[38,8,26,6],[38,14,26,12,"token"],[38,19,26,17],[38,22,26,20],[38,28,26,26,"storageService"],[38,44,26,40],[38,45,26,40,"storageService"],[38,59,26,40],[38,60,26,41,"getToken"],[38,68,26,49],[38,69,26,50],[38,70,26,51],[39,8,27,6],[39,14,27,12,"savedUser"],[39,23,27,21],[39,26,27,24],[39,32,27,30,"storageService"],[39,48,27,44],[39,49,27,44,"storageService"],[39,63,27,44],[39,64,27,45,"getUser"],[39,71,27,52],[39,72,27,53],[39,73,27,54],[40,8,29,6],[40,12,29,10,"token"],[40,17,29,15],[40,21,29,19,"savedUser"],[40,30,29,28],[40,32,29,30],[41,10,30,8,"setUser"],[41,17,30,15],[41,18,30,16,"savedUser"],[41,27,30,25],[41,28,30,26],[42,8,31,6],[43,6,32,4],[43,7,32,5],[43,8,32,6],[43,15,32,13,"error"],[43,20,32,18],[43,22,32,20],[44,8,33,6,"console"],[44,15,33,13],[44,16,33,14,"error"],[44,21,33,19],[44,22,33,20],[44,41,33,39],[44,43,33,41,"error"],[44,48,33,46],[44,49,33,47],[45,6,34,4],[45,7,34,5],[45,16,34,14],[46,8,35,6,"setLoading"],[46,18,35,16],[46,19,35,17],[46,24,35,22],[46,25,35,23],[47,6,36,4],[48,4,37,2],[48,5,37,3],[49,4,39,2],[49,10,39,8,"login"],[49,15,39,13],[49,18,39,16],[49,24,39,16,"login"],[49,25,39,23,"email"],[49,30,39,36],[49,32,39,38,"password"],[49,40,39,54],[49,45,39,59],[50,6,40,4],[50,10,40,8],[51,8,41,6],[51,14,41,12,"response"],[51,22,41,20],[51,25,41,23],[51,31,41,29,"authAPI"],[51,43,41,36],[51,44,41,36,"authAPI"],[51,51,41,36],[51,52,41,37,"login"],[51,57,41,42],[51,58,41,43,"email"],[51,63,41,48],[51,65,41,50,"password"],[51,73,41,58],[51,74,41,59],[52,8,42,6],[52,14,42,12,"storageService"],[52,30,42,26],[52,31,42,26,"storageService"],[52,45,42,26],[52,46,42,27,"saveAuth"],[52,54,42,35],[52,55,42,36,"response"],[52,63,42,44],[52,64,42,45,"access_token"],[52,76,42,57],[52,78,42,59,"response"],[52,86,42,67],[52,87,42,68,"user"],[52,91,42,72],[52,92,42,73],[53,8,43,6,"setUser"],[53,15,43,13],[53,16,43,14,"response"],[53,24,43,22],[53,25,43,23,"user"],[53,29,43,27],[53,30,43,28],[54,6,44,4],[54,7,44,5],[54,8,44,6],[54,15,44,13,"error"],[54,20,44,18],[54,22,44,20],[55,8,45,6,"console"],[55,15,45,13],[55,16,45,14,"error"],[55,21,45,19],[55,22,45,20],[55,36,45,34],[55,38,45,36,"error"],[55,43,45,41],[55,44,45,42],[56,8,46,6],[56,14,46,12,"error"],[56,19,46,17],[57,6,47,4],[58,4,48,2],[58,5,48,3],[59,4,50,2],[59,10,50,8,"logout"],[59,16,50,14],[59,19,50,17],[59,25,50,17,"logout"],[59,26,50,17],[59,31,50,29],[60,6,51,4],[60,10,51,8],[61,8,52,6],[61,14,52,12,"storageService"],[61,30,52,26],[61,31,52,26,"storageService"],[61,45,52,26],[61,46,52,27,"clearAuth"],[61,55,52,36],[61,56,52,37],[61,57,52,38],[62,8,53,6,"setUser"],[62,15,53,13],[62,16,53,14],[62,20,53,18],[62,21,53,19],[63,6,54,4],[63,7,54,5],[63,8,54,6],[63,15,54,13,"error"],[63,20,54,18],[63,22,54,20],[64,8,55,6,"console"],[64,15,55,13],[64,16,55,14,"error"],[64,21,55,19],[64,22,55,20],[64,37,55,35],[64,39,55,37,"error"],[64,44,55,42],[64,45,55,43],[65,6,56,4],[66,4,57,2],[66,5,57,3],[67,4,59,2],[67,24,60,4],[67,28,60,4,"_reactJsxDevRuntime"],[67,47,60,4],[67,48,60,4,"jsxDEV"],[67,54,60,4],[67,56,60,5,"AuthContext"],[67,67,60,16],[67,68,60,17,"Provider"],[67,76,60,25],[68,6,61,6,"value"],[68,11,61,11],[68,13,61,13],[69,8,62,8,"user"],[69,12,62,12],[70,8,63,8,"loading"],[70,15,63,15],[71,8,64,8,"login"],[71,13,64,13],[72,8,65,8,"logout"],[72,14,65,14],[73,8,66,8,"isAuthenticated"],[73,23,66,23],[73,25,66,25],[73,26,66,26],[73,27,66,27,"user"],[74,6,67,6],[74,7,67,8],[75,6,67,8,"children"],[75,14,67,8],[75,16,69,7,"children"],[76,4,69,15],[77,6,69,15,"fileName"],[77,14,69,15],[77,16,69,15,"_jsxFileName"],[77,28,69,15],[78,6,69,15,"lineNumber"],[78,16,69,15],[79,6,69,15,"columnNumber"],[79,18,69,15],[80,4,69,15],[80,11,70,26],[80,12,70,27],[81,2,72,0],[81,3,72,1],[82,2,72,2,"_s"],[82,4,72,2],[82,5,16,13,"AuthProvider"],[82,17,16,25],[83,2,16,25,"_c"],[83,4,16,25],[83,7,16,13,"AuthProvider"],[83,19,16,25],[84,2,74,7],[84,8,74,13,"useAuth"],[84,15,74,20],[84,18,74,23,"useAuth"],[84,19,74,23],[84,24,74,29],[85,4,74,29,"_s2"],[85,7,74,29],[86,4,75,2],[86,10,75,8,"context"],[86,17,75,15],[86,20,75,18],[86,24,75,18,"useContext"],[86,30,75,28],[86,31,75,28,"useContext"],[86,41,75,28],[86,43,75,29,"AuthContext"],[86,54,75,40],[86,55,75,41],[87,4,76,2],[87,8,76,6,"context"],[87,15,76,13],[87,20,76,18,"undefined"],[87,29,76,27],[87,31,76,29],[88,6,77,4],[88,12,77,10],[88,16,77,14,"Error"],[88,21,77,19],[88,22,77,20],[88,67,77,65],[88,68,77,66],[89,4,78,2],[90,4,79,2],[90,11,79,9,"context"],[90,18,79,16],[91,2,80,0],[91,3,80,1],[92,2,80,2,"_s2"],[92,5,80,2],[92,6,74,13,"useAuth"],[92,13,74,20],[93,2,74,20],[93,6,74,20,"_c"],[93,8,74,20],[94,2,74,20,"$RefreshReg$"],[94,14,74,20],[94,15,74,20,"_c"],[94,17,74,20],[95,0,74,20],[95,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","logout","useAuth"],"mappings":"AAA;4BCe;YCI;GDE;oBEE;GFa;gBGE;GHS;iBIE;GJO;CDe;uBME;CNM"},"hasCjsExports":false},"type":"js/module"}]}