{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":38,"index":38}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-webview","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":88},"end":{"line":3,"column":47,"index":135}}],"key":"YJc7i/oIweCWhKjzjfYLEcLeUJA=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/components/LeafletMap.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return LeafletMap;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[2], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebview = require(_dependencyMap[3], \"react-native-webview\");\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  function LeafletMap({\n    markers,\n    center,\n    zoom = 13,\n    selectedMarker,\n    userLocation,\n    showRouting = false\n  }) {\n    _s();\n    const webViewRef = (0, _react.useRef)(null);\n    const defaultCenter = selectedMarker || center || (markers.length > 0 ? {\n      latitude: markers[0].latitude,\n      longitude: markers[0].longitude\n    } : {\n      latitude: -6.2088,\n      longitude: 106.8456\n    });\n    const zoomLevel = selectedMarker ? 16 : zoom;\n    const htmlContent = `\n<!DOCTYPE html>\n<html>\n<head>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\" />\n  <link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.css\" />\n  <link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css\" />\n  <script src=\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.js\"></script>\n  <script src=\"https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js\"></script>\n  <style>\n    body, html {\n      margin: 0;\n      padding: 0;\n      height: 100%;\n      width: 100%;\n    }\n    #map {\n      height: 100%;\n      width: 100%;\n    }\n    .custom-marker {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 40px;\n      height: 40px;\n      border-radius: 50%;\n      border: 3px solid white;\n      box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n      font-size: 24px;\n    }\n    .leaflet-routing-container {\n      display: none;\n    }\n  </style>\n</head>\n<body>\n  <div id=\"map\"></div>\n  <script>\n    // Initialize map\n    var map = L.map('map', {\n      zoomControl: true,\n      attributionControl: true\n    }).setView([${defaultCenter.latitude}, ${defaultCenter.longitude}], ${zoomLevel});\n\n    // Add Google Hybrid tiles (Satellite + Labels)\n    L.tileLayer('http://{s}.google.com/vt/lyrs=y&x={x}&y={y}&z={z}', {\n      maxZoom: 20,\n      subdomains: ['mt0', 'mt1', 'mt2', 'mt3'],\n      attribution: '¬© Google Maps'\n    }).addTo(map);\n\n    // Custom icon function\n    function createCustomIcon(color, icon) {\n      return L.divIcon({\n        html: '<div class=\"custom-marker\" style=\"background-color: ' + color + ';\">' + icon + '</div>',\n        className: '',\n        iconSize: [40, 40],\n        iconAnchor: [20, 20],\n        popupAnchor: [0, -20]\n      });\n    }\n\n    // Add user location if provided\n    ${userLocation ? `\n    var userIcon = createCustomIcon('#2196F3', 'üì±');\n    var userMarker = L.marker([${userLocation.latitude}, ${userLocation.longitude}], { icon: userIcon })\n      .addTo(map)\n      .bindPopup('<b>Your Location</b><br/>Lat: ${userLocation.latitude.toFixed(6)}<br/>Lng: ${userLocation.longitude.toFixed(6)}');\n    ` : ''}\n\n    // Add markers\n    var markers = ${JSON.stringify(markers)};\n    var bounds = [];\n    ${userLocation ? `bounds.push([${userLocation.latitude}, ${userLocation.longitude}]);` : ''}\n\n    markers.forEach(function(marker) {\n      var icon = createCustomIcon(marker.color, marker.icon || 'üìç');\n      var m = L.marker([marker.latitude, marker.longitude], { icon: icon })\n        .addTo(map)\n        .bindPopup('<b>' + marker.title + '</b><br/>Lat: ' + marker.latitude.toFixed(6) + '<br/>Lng: ' + marker.longitude.toFixed(6));\n      \n      bounds.push([marker.latitude, marker.longitude]);\n    });\n\n    // Add routing if requested\n    ${showRouting && userLocation && selectedMarker ? `\n    L.Routing.control({\n      waypoints: [\n        L.latLng(${userLocation.latitude}, ${userLocation.longitude}),\n        L.latLng(${selectedMarker.latitude}, ${selectedMarker.longitude})\n      ],\n      routeWhileDragging: false,\n      show: false,\n      addWaypoints: false,\n      lineOptions: {\n        styles: [{color: '#2196F3', opacity: 0.8, weight: 5}]\n      }\n    }).addTo(map);\n    ` : ''}\n\n    // Fit map to show all markers\n    if (bounds.length > 0) {\n      ${selectedMarker ? `map.setView([${selectedMarker.latitude}, ${selectedMarker.longitude}], ${zoomLevel});` : `map.fitBounds(bounds, { padding: [50, 50], maxZoom: 15 });`}\n    }\n  </script>\n</body>\n</html>\n  `;\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n      style: styles.container,\n      children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNativeWebview.WebView, {\n        ref: webViewRef,\n        source: {\n          html: htmlContent\n        },\n        style: styles.webview,\n        javaScriptEnabled: true,\n        domStorageEnabled: true,\n        geolocationEnabled: true,\n        onError: syntheticEvent => {\n          const {\n            nativeEvent\n          } = syntheticEvent;\n          console.warn('WebView error: ', nativeEvent);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 5\n    }, this);\n  }\n  _s(LeafletMap, \"zSSM3VgnLEla5ccJN8DqNAIN7kE=\");\n  _c = LeafletMap;\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1\n    },\n    webview: {\n      flex: 1\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"LeafletMap\");\n});","lineCount":194,"map":[[14,2,24,15,"Object"],[14,8,24,15],[14,9,24,15,"defineProperty"],[14,23,24,15],[14,24,24,15,"exports"],[14,31,24,15],[15,4,24,15,"enumerable"],[15,14,24,15],[16,4,24,15,"get"],[16,7,24,15],[16,18,24,15,"get"],[16,19,24,15],[17,6,24,15],[17,13,24,15,"LeafletMap"],[17,23,24,15],[18,4,24,15],[19,2,24,15],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,1,38],[21,6,1,38,"_reactNativeWebDistExportsView"],[21,36,1,38],[21,39,1,38,"require"],[21,46,1,38],[21,47,1,38,"_dependencyMap"],[21,61,1,38],[22,2,1,38],[22,6,1,38,"View"],[22,10,1,38],[22,13,1,38,"_interopDefault"],[22,28,1,38],[22,29,1,38,"_reactNativeWebDistExportsView"],[22,59,1,38],[23,2,1,38],[23,6,1,38,"_reactNativeWebDistExportsStyleSheet"],[23,42,1,38],[23,45,1,38,"require"],[23,52,1,38],[23,53,1,38,"_dependencyMap"],[23,67,1,38],[24,2,1,38],[24,6,1,38,"StyleSheet"],[24,16,1,38],[24,19,1,38,"_interopDefault"],[24,34,1,38],[24,35,1,38,"_reactNativeWebDistExportsStyleSheet"],[24,71,1,38],[25,2,3,0],[25,6,3,0,"_reactNativeWebview"],[25,25,3,0],[25,28,3,0,"require"],[25,35,3,0],[25,36,3,0,"_dependencyMap"],[25,50,3,0],[26,2,3,47],[26,6,3,47,"_reactJsxDevRuntime"],[26,25,3,47],[26,28,3,47,"require"],[26,35,3,47],[26,36,3,47,"_dependencyMap"],[26,50,3,47],[27,2,24,15],[27,11,24,24,"LeafletMap"],[27,21,24,34,"LeafletMap"],[27,22,24,35],[28,4,25,2,"markers"],[28,11,25,9],[29,4,26,2,"center"],[29,10,26,8],[30,4,27,2,"zoom"],[30,8,27,6],[30,11,27,9],[30,13,27,11],[31,4,28,2,"selectedMarker"],[31,18,28,16],[32,4,29,2,"userLocation"],[32,16,29,14],[33,4,30,2,"showRouting"],[33,15,30,13],[33,18,30,16],[34,2,31,17],[34,3,31,18],[34,5,31,20],[35,4,31,20,"_s"],[35,6,31,20],[36,4,32,2],[36,10,32,8,"webViewRef"],[36,20,32,18],[36,23,32,21],[36,27,32,21,"useRef"],[36,33,32,27],[36,34,32,27,"useRef"],[36,40,32,27],[36,42,32,37],[36,46,32,41],[36,47,32,42],[37,4,34,2],[37,10,34,8,"defaultCenter"],[37,23,34,21],[37,26,34,24,"selectedMarker"],[37,40,34,38],[37,44,34,42,"center"],[37,50,34,48],[37,55,34,53,"markers"],[37,62,34,60],[37,63,34,61,"length"],[37,69,34,67],[37,72,34,70],[37,73,34,71],[37,76,35,6],[38,6,35,8,"latitude"],[38,14,35,16],[38,16,35,18,"markers"],[38,23,35,25],[38,24,35,26],[38,25,35,27],[38,26,35,28],[38,27,35,29,"latitude"],[38,35,35,37],[39,6,35,39,"longitude"],[39,15,35,48],[39,17,35,50,"markers"],[39,24,35,57],[39,25,35,58],[39,26,35,59],[39,27,35,60],[39,28,35,61,"longitude"],[40,4,35,71],[40,5,35,72],[40,8,36,6],[41,6,36,8,"latitude"],[41,14,36,16],[41,16,36,18],[41,17,36,19],[41,23,36,25],[42,6,36,27,"longitude"],[42,15,36,36],[42,17,36,38],[43,4,36,47],[43,5,36,48],[43,6,36,49],[44,4,38,2],[44,10,38,8,"zoomLevel"],[44,19,38,17],[44,22,38,20,"selectedMarker"],[44,36,38,34],[44,39,38,37],[44,41,38,39],[44,44,38,42,"zoom"],[44,48,38,46],[45,4,40,2],[45,10,40,8,"htmlContent"],[45,21,40,19],[45,24,40,22],[46,0,41,0],[47,0,42,0],[48,0,43,0],[49,0,44,0],[50,0,45,0],[51,0,46,0],[52,0,47,0],[53,0,48,0],[54,0,49,0],[55,0,50,0],[56,0,51,0],[57,0,52,0],[58,0,53,0],[59,0,54,0],[60,0,55,0],[61,0,56,0],[62,0,57,0],[63,0,58,0],[64,0,59,0],[65,0,60,0],[66,0,61,0],[67,0,62,0],[68,0,63,0],[69,0,64,0],[70,0,65,0],[71,0,66,0],[72,0,67,0],[73,0,68,0],[74,0,69,0],[75,0,70,0],[76,0,71,0],[77,0,72,0],[78,0,73,0],[79,0,74,0],[80,0,75,0],[81,0,76,0],[82,0,77,0],[83,0,78,0],[84,0,79,0],[85,0,80,0],[86,0,81,0],[87,0,82,0],[88,0,83,0],[88,18,83,18,"defaultCenter"],[88,31,83,31],[88,32,83,32,"latitude"],[88,40,83,40],[88,45,83,45,"defaultCenter"],[88,58,83,58],[88,59,83,59,"longitude"],[88,68,83,68],[88,74,83,74,"zoomLevel"],[88,83,83,83],[89,0,84,0],[90,0,85,0],[91,0,86,0],[92,0,87,0],[93,0,88,0],[94,0,89,0],[95,0,90,0],[96,0,91,0],[97,0,92,0],[98,0,93,0],[99,0,94,0],[100,0,95,0],[101,0,96,0],[102,0,97,0],[103,0,98,0],[104,0,99,0],[105,0,100,0],[106,0,101,0],[107,0,102,0],[108,0,103,0],[109,0,104,0],[109,6,104,6,"userLocation"],[109,18,104,18],[109,21,104,21],[110,0,105,0],[111,0,106,0],[111,33,106,33,"userLocation"],[111,45,106,45],[111,46,106,46,"latitude"],[111,54,106,54],[111,59,106,59,"userLocation"],[111,71,106,71],[111,72,106,72,"longitude"],[111,81,106,81],[112,0,107,0],[113,0,108,0],[113,50,108,50,"userLocation"],[113,62,108,62],[113,63,108,63,"latitude"],[113,71,108,71],[113,72,108,72,"toFixed"],[113,79,108,79],[113,80,108,80],[113,81,108,81],[113,82,108,82],[113,95,108,95,"userLocation"],[113,107,108,107],[113,108,108,108,"longitude"],[113,117,108,117],[113,118,108,118,"toFixed"],[113,125,108,125],[113,126,108,126],[113,127,108,127],[113,128,108,128],[114,0,109,0],[114,5,109,5],[114,8,109,8],[114,10,109,10],[115,0,110,0],[116,0,111,0],[117,0,112,0],[117,20,112,20,"JSON"],[117,24,112,24],[117,25,112,25,"stringify"],[117,34,112,34],[117,35,112,35,"markers"],[117,42,112,42],[117,43,112,43],[118,0,113,0],[119,0,114,0],[119,6,114,6,"userLocation"],[119,18,114,18],[119,21,114,21],[119,37,114,37,"userLocation"],[119,49,114,49],[119,50,114,50,"latitude"],[119,58,114,58],[119,63,114,63,"userLocation"],[119,75,114,75],[119,76,114,76,"longitude"],[119,85,114,85],[119,90,114,90],[119,93,114,93],[119,95,114,95],[120,0,115,0],[121,0,116,0],[122,0,117,0],[123,0,118,0],[124,0,119,0],[125,0,120,0],[126,0,121,0],[127,0,122,0],[128,0,123,0],[129,0,124,0],[130,0,125,0],[131,0,126,0],[131,6,126,6,"showRouting"],[131,17,126,17],[131,21,126,21,"userLocation"],[131,33,126,33],[131,37,126,37,"selectedMarker"],[131,51,126,51],[131,54,126,54],[132,0,127,0],[133,0,128,0],[134,0,129,0],[134,19,129,19,"userLocation"],[134,31,129,31],[134,32,129,32,"latitude"],[134,40,129,40],[134,45,129,45,"userLocation"],[134,57,129,57],[134,58,129,58,"longitude"],[134,67,129,67],[135,0,130,0],[135,19,130,19,"selectedMarker"],[135,33,130,33],[135,34,130,34,"latitude"],[135,42,130,42],[135,47,130,47,"selectedMarker"],[135,61,130,61],[135,62,130,62,"longitude"],[135,71,130,71],[136,0,131,0],[137,0,132,0],[138,0,133,0],[139,0,134,0],[140,0,135,0],[141,0,136,0],[142,0,137,0],[143,0,138,0],[144,0,139,0],[144,5,139,5],[144,8,139,8],[144,10,139,10],[145,0,140,0],[146,0,141,0],[147,0,142,0],[148,0,143,0],[148,8,143,8,"selectedMarker"],[148,22,143,22],[148,25,144,8],[148,41,144,24,"selectedMarker"],[148,55,144,38],[148,56,144,39,"latitude"],[148,64,144,47],[148,69,144,52,"selectedMarker"],[148,83,144,66],[148,84,144,67,"longitude"],[148,93,144,76],[148,99,144,82,"zoomLevel"],[148,108,144,91],[148,112,144,95],[148,115,145,8],[148,175,145,68],[149,0,146,0],[150,0,147,0],[151,0,148,0],[152,0,149,0],[153,0,150,0],[153,3,151,3],[154,4,153,2],[154,24,154,4],[154,28,154,4,"_reactJsxDevRuntime"],[154,47,154,4],[154,48,154,4,"jsxDEV"],[154,54,154,4],[154,56,154,5,"View"],[154,60,154,9],[154,61,154,9,"default"],[154,68,154,9],[155,6,154,10,"style"],[155,11,154,15],[155,13,154,17,"styles"],[155,19,154,23],[155,20,154,24,"container"],[155,29,154,34],[156,6,154,34,"children"],[156,14,154,34],[156,29,155,6],[156,33,155,6,"_reactJsxDevRuntime"],[156,52,155,6],[156,53,155,6,"jsxDEV"],[156,59,155,6],[156,61,155,7,"_reactNativeWebview"],[156,80,155,14],[156,81,155,14,"WebView"],[156,88,155,14],[157,8,156,8,"ref"],[157,11,156,11],[157,13,156,13,"webViewRef"],[157,23,156,24],[158,8,157,8,"source"],[158,14,157,14],[158,16,157,16],[159,10,157,18,"html"],[159,14,157,22],[159,16,157,24,"htmlContent"],[160,8,157,36],[160,9,157,38],[161,8,158,8,"style"],[161,13,158,13],[161,15,158,15,"styles"],[161,21,158,21],[161,22,158,22,"webview"],[161,29,158,30],[162,8,159,8,"javaScriptEnabled"],[162,25,159,25],[162,27,159,27],[162,31,159,32],[163,8,160,8,"domStorageEnabled"],[163,25,160,25],[163,27,160,27],[163,31,160,32],[164,8,161,8,"geolocationEnabled"],[164,26,161,26],[164,28,161,28],[164,32,161,33],[165,8,162,8,"onError"],[165,15,162,15],[165,17,162,18,"syntheticEvent"],[165,31,162,32],[165,35,162,37],[166,10,163,10],[166,16,163,16],[167,12,163,18,"nativeEvent"],[168,10,163,30],[168,11,163,31],[168,14,163,34,"syntheticEvent"],[168,28,163,48],[169,10,164,10,"console"],[169,17,164,17],[169,18,164,18,"warn"],[169,22,164,22],[169,23,164,23],[169,40,164,40],[169,42,164,42,"nativeEvent"],[169,53,164,53],[169,54,164,54],[170,8,165,8],[171,6,165,10],[172,8,165,10,"fileName"],[172,16,165,10],[172,18,165,10,"_jsxFileName"],[172,30,165,10],[173,8,165,10,"lineNumber"],[173,18,165,10],[174,8,165,10,"columnNumber"],[174,20,165,10],[175,6,165,10],[175,13,166,7],[176,4,166,8],[177,6,166,8,"fileName"],[177,14,166,8],[177,16,166,8,"_jsxFileName"],[177,28,166,8],[178,6,166,8,"lineNumber"],[178,16,166,8],[179,6,166,8,"columnNumber"],[179,18,166,8],[180,4,166,8],[180,11,167,10],[180,12,167,11],[181,2,169,0],[182,2,169,1,"_s"],[182,4,169,1],[182,5,24,24,"LeafletMap"],[182,15,24,34],[183,2,24,34,"_c"],[183,4,24,34],[183,7,24,24,"LeafletMap"],[183,17,24,34],[184,2,171,0],[184,8,171,6,"styles"],[184,14,171,12],[184,17,171,15,"StyleSheet"],[184,27,171,25],[184,28,171,25,"default"],[184,35,171,25],[184,36,171,26,"create"],[184,42,171,32],[184,43,171,33],[185,4,172,2,"container"],[185,13,172,11],[185,15,172,13],[186,6,173,4,"flex"],[186,10,173,8],[186,12,173,10],[187,4,174,2],[187,5,174,3],[188,4,175,2,"webview"],[188,11,175,9],[188,13,175,11],[189,6,176,4,"flex"],[189,10,176,8],[189,12,176,10],[190,4,177,2],[191,2,178,0],[191,3,178,1],[191,4,178,2],[192,2,178,3],[192,6,178,3,"_c"],[192,8,178,3],[193,2,178,3,"$RefreshReg$"],[193,14,178,3],[193,15,178,3,"_c"],[193,17,178,3],[194,0,178,3],[194,3]],"functionMap":{"names":["<global>","LeafletMap","WebView.props.onError"],"mappings":"AAA;eCuB;iBC0I;SDG;CDI"},"hasCjsExports":false},"type":"js/module"}]}