{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":38,"index":38}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-webview","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":88},"end":{"line":3,"column":47,"index":135}}],"key":"YJc7i/oIweCWhKjzjfYLEcLeUJA=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/components/LeafletMap.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return LeafletMap;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[2], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebview = require(_dependencyMap[3], \"react-native-webview\");\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  function LeafletMap({\n    markers,\n    center,\n    zoom = 13,\n    selectedMarker,\n    userLocation,\n    showRouting = false\n  }) {\n    _s();\n    const webViewRef = (0, _react.useRef)(null);\n    const defaultCenter = selectedMarker || center || (markers.length > 0 ? {\n      latitude: markers[0].latitude,\n      longitude: markers[0].longitude\n    } : {\n      latitude: -6.2088,\n      longitude: 106.8456\n    });\n    const zoomLevel = selectedMarker ? 16 : zoom;\n    const htmlContent = `\n<!DOCTYPE html>\n<html>\n<head>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\" />\n  <link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.css\" />\n  <link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css\" />\n  <script src=\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.js\"></script>\n  <script src=\"https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js\"></script>\n  <style>\n    body, html {\n      margin: 0;\n      padding: 0;\n      height: 100%;\n      width: 100%;\n    }\n    #map {\n      height: 100%;\n      width: 100%;\n    }\n    .custom-marker {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 40px;\n      height: 40px;\n      border-radius: 50%;\n      border: 3px solid white;\n      box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n      font-size: 24px;\n    }\n    .leaflet-routing-container {\n      display: none;\n    }\n  </style>\n</head>\n<body>\n  <div id=\"map\"></div>\n  <script>\n    // Initialize map\n    var map = L.map('map', {\n      zoomControl: true,\n      attributionControl: true\n    }).setView([${defaultCenter.latitude}, ${defaultCenter.longitude}], ${zoomLevel});\n\n    // Add OpenStreetMap tiles\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '¬© OpenStreetMap contributors',\n      maxZoom: 19\n    }).addTo(map);\n\n    // Custom icon function\n    function createCustomIcon(color, icon) {\n      return L.divIcon({\n        html: '<div class=\"custom-marker\" style=\"background-color: ' + color + ';\">' + icon + '</div>',\n        className: '',\n        iconSize: [40, 40],\n        iconAnchor: [20, 20],\n        popupAnchor: [0, -20]\n      });\n    }\n\n    // Add user location if provided\n    ${userLocation ? `\n    var userIcon = createCustomIcon('#2196F3', 'üì±');\n    var userMarker = L.marker([${userLocation.latitude}, ${userLocation.longitude}], { icon: userIcon })\n      .addTo(map)\n      .bindPopup('<b>Your Location</b><br/>Lat: ${userLocation.latitude.toFixed(6)}<br/>Lng: ${userLocation.longitude.toFixed(6)}');\n    ` : ''}\n\n    // Add markers\n    var markers = ${JSON.stringify(markers)};\n    var bounds = [];\n    ${userLocation ? `bounds.push([${userLocation.latitude}, ${userLocation.longitude}]);` : ''}\n\n    markers.forEach(function(marker) {\n      var icon = createCustomIcon(marker.color, marker.icon || 'üìç');\n      var m = L.marker([marker.latitude, marker.longitude], { icon: icon })\n        .addTo(map)\n        .bindPopup('<b>' + marker.title + '</b><br/>Lat: ' + marker.latitude.toFixed(6) + '<br/>Lng: ' + marker.longitude.toFixed(6));\n      \n      bounds.push([marker.latitude, marker.longitude]);\n    });\n\n    // Add routing if requested\n    ${showRouting && userLocation && selectedMarker ? `\n    L.Routing.control({\n      waypoints: [\n        L.latLng(${userLocation.latitude}, ${userLocation.longitude}),\n        L.latLng(${selectedMarker.latitude}, ${selectedMarker.longitude})\n      ],\n      routeWhileDragging: false,\n      show: false,\n      addWaypoints: false,\n      lineOptions: {\n        styles: [{color: '#2196F3', opacity: 0.8, weight: 5}]\n      }\n    }).addTo(map);\n    ` : ''}\n\n    // Fit map to show all markers\n    if (bounds.length > 0) {\n      ${selectedMarker ? `map.setView([${selectedMarker.latitude}, ${selectedMarker.longitude}], ${zoomLevel});` : `map.fitBounds(bounds, { padding: [50, 50], maxZoom: 15 });`}\n    }\n  </script>\n</body>\n</html>\n  `;\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n      style: styles.container,\n      children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNativeWebview.WebView, {\n        ref: webViewRef,\n        source: {\n          html: htmlContent\n        },\n        style: styles.webview,\n        javaScriptEnabled: true,\n        domStorageEnabled: true,\n        geolocationEnabled: true,\n        onError: syntheticEvent => {\n          const {\n            nativeEvent\n          } = syntheticEvent;\n          console.warn('WebView error: ', nativeEvent);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 5\n    }, this);\n  }\n  _s(LeafletMap, \"zSSM3VgnLEla5ccJN8DqNAIN7kE=\");\n  _c = LeafletMap;\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1\n    },\n    webview: {\n      flex: 1\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"LeafletMap\");\n});","lineCount":193,"map":[[14,2,23,15,"Object"],[14,8,23,15],[14,9,23,15,"defineProperty"],[14,23,23,15],[14,24,23,15,"exports"],[14,31,23,15],[15,4,23,15,"enumerable"],[15,14,23,15],[16,4,23,15,"get"],[16,7,23,15],[16,18,23,15,"get"],[16,19,23,15],[17,6,23,15],[17,13,23,15,"LeafletMap"],[17,23,23,15],[18,4,23,15],[19,2,23,15],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,1,38],[21,6,1,38,"_reactNativeWebDistExportsView"],[21,36,1,38],[21,39,1,38,"require"],[21,46,1,38],[21,47,1,38,"_dependencyMap"],[21,61,1,38],[22,2,1,38],[22,6,1,38,"View"],[22,10,1,38],[22,13,1,38,"_interopDefault"],[22,28,1,38],[22,29,1,38,"_reactNativeWebDistExportsView"],[22,59,1,38],[23,2,1,38],[23,6,1,38,"_reactNativeWebDistExportsStyleSheet"],[23,42,1,38],[23,45,1,38,"require"],[23,52,1,38],[23,53,1,38,"_dependencyMap"],[23,67,1,38],[24,2,1,38],[24,6,1,38,"StyleSheet"],[24,16,1,38],[24,19,1,38,"_interopDefault"],[24,34,1,38],[24,35,1,38,"_reactNativeWebDistExportsStyleSheet"],[24,71,1,38],[25,2,3,0],[25,6,3,0,"_reactNativeWebview"],[25,25,3,0],[25,28,3,0,"require"],[25,35,3,0],[25,36,3,0,"_dependencyMap"],[25,50,3,0],[26,2,3,47],[26,6,3,47,"_reactJsxDevRuntime"],[26,25,3,47],[26,28,3,47,"require"],[26,35,3,47],[26,36,3,47,"_dependencyMap"],[26,50,3,47],[27,2,23,15],[27,11,23,24,"LeafletMap"],[27,21,23,34,"LeafletMap"],[27,22,23,35],[28,4,24,2,"markers"],[28,11,24,9],[29,4,25,2,"center"],[29,10,25,8],[30,4,26,2,"zoom"],[30,8,26,6],[30,11,26,9],[30,13,26,11],[31,4,27,2,"selectedMarker"],[31,18,27,16],[32,4,28,2,"userLocation"],[32,16,28,14],[33,4,29,2,"showRouting"],[33,15,29,13],[33,18,29,16],[34,2,30,17],[34,3,30,18],[34,5,30,20],[35,4,30,20,"_s"],[35,6,30,20],[36,4,31,2],[36,10,31,8,"webViewRef"],[36,20,31,18],[36,23,31,21],[36,27,31,21,"useRef"],[36,33,31,27],[36,34,31,27,"useRef"],[36,40,31,27],[36,42,31,37],[36,46,31,41],[36,47,31,42],[37,4,33,2],[37,10,33,8,"defaultCenter"],[37,23,33,21],[37,26,33,24,"selectedMarker"],[37,40,33,38],[37,44,33,42,"center"],[37,50,33,48],[37,55,33,53,"markers"],[37,62,33,60],[37,63,33,61,"length"],[37,69,33,67],[37,72,33,70],[37,73,33,71],[37,76,34,6],[38,6,34,8,"latitude"],[38,14,34,16],[38,16,34,18,"markers"],[38,23,34,25],[38,24,34,26],[38,25,34,27],[38,26,34,28],[38,27,34,29,"latitude"],[38,35,34,37],[39,6,34,39,"longitude"],[39,15,34,48],[39,17,34,50,"markers"],[39,24,34,57],[39,25,34,58],[39,26,34,59],[39,27,34,60],[39,28,34,61,"longitude"],[40,4,34,71],[40,5,34,72],[40,8,35,6],[41,6,35,8,"latitude"],[41,14,35,16],[41,16,35,18],[41,17,35,19],[41,23,35,25],[42,6,35,27,"longitude"],[42,15,35,36],[42,17,35,38],[43,4,35,47],[43,5,35,48],[43,6,35,49],[44,4,37,2],[44,10,37,8,"zoomLevel"],[44,19,37,17],[44,22,37,20,"selectedMarker"],[44,36,37,34],[44,39,37,37],[44,41,37,39],[44,44,37,42,"zoom"],[44,48,37,46],[45,4,39,2],[45,10,39,8,"htmlContent"],[45,21,39,19],[45,24,39,22],[46,0,40,0],[47,0,41,0],[48,0,42,0],[49,0,43,0],[50,0,44,0],[51,0,45,0],[52,0,46,0],[53,0,47,0],[54,0,48,0],[55,0,49,0],[56,0,50,0],[57,0,51,0],[58,0,52,0],[59,0,53,0],[60,0,54,0],[61,0,55,0],[62,0,56,0],[63,0,57,0],[64,0,58,0],[65,0,59,0],[66,0,60,0],[67,0,61,0],[68,0,62,0],[69,0,63,0],[70,0,64,0],[71,0,65,0],[72,0,66,0],[73,0,67,0],[74,0,68,0],[75,0,69,0],[76,0,70,0],[77,0,71,0],[78,0,72,0],[79,0,73,0],[80,0,74,0],[81,0,75,0],[82,0,76,0],[83,0,77,0],[84,0,78,0],[85,0,79,0],[86,0,80,0],[87,0,81,0],[88,0,82,0],[88,18,82,18,"defaultCenter"],[88,31,82,31],[88,32,82,32,"latitude"],[88,40,82,40],[88,45,82,45,"defaultCenter"],[88,58,82,58],[88,59,82,59,"longitude"],[88,68,82,68],[88,74,82,74,"zoomLevel"],[88,83,82,83],[89,0,83,0],[90,0,84,0],[91,0,85,0],[92,0,86,0],[93,0,87,0],[94,0,88,0],[95,0,89,0],[96,0,90,0],[97,0,91,0],[98,0,92,0],[99,0,93,0],[100,0,94,0],[101,0,95,0],[102,0,96,0],[103,0,97,0],[104,0,98,0],[105,0,99,0],[106,0,100,0],[107,0,101,0],[108,0,102,0],[108,6,102,6,"userLocation"],[108,18,102,18],[108,21,102,21],[109,0,103,0],[110,0,104,0],[110,33,104,33,"userLocation"],[110,45,104,45],[110,46,104,46,"latitude"],[110,54,104,54],[110,59,104,59,"userLocation"],[110,71,104,71],[110,72,104,72,"longitude"],[110,81,104,81],[111,0,105,0],[112,0,106,0],[112,50,106,50,"userLocation"],[112,62,106,62],[112,63,106,63,"latitude"],[112,71,106,71],[112,72,106,72,"toFixed"],[112,79,106,79],[112,80,106,80],[112,81,106,81],[112,82,106,82],[112,95,106,95,"userLocation"],[112,107,106,107],[112,108,106,108,"longitude"],[112,117,106,117],[112,118,106,118,"toFixed"],[112,125,106,125],[112,126,106,126],[112,127,106,127],[112,128,106,128],[113,0,107,0],[113,5,107,5],[113,8,107,8],[113,10,107,10],[114,0,108,0],[115,0,109,0],[116,0,110,0],[116,20,110,20,"JSON"],[116,24,110,24],[116,25,110,25,"stringify"],[116,34,110,34],[116,35,110,35,"markers"],[116,42,110,42],[116,43,110,43],[117,0,111,0],[118,0,112,0],[118,6,112,6,"userLocation"],[118,18,112,18],[118,21,112,21],[118,37,112,37,"userLocation"],[118,49,112,49],[118,50,112,50,"latitude"],[118,58,112,58],[118,63,112,63,"userLocation"],[118,75,112,75],[118,76,112,76,"longitude"],[118,85,112,85],[118,90,112,90],[118,93,112,93],[118,95,112,95],[119,0,113,0],[120,0,114,0],[121,0,115,0],[122,0,116,0],[123,0,117,0],[124,0,118,0],[125,0,119,0],[126,0,120,0],[127,0,121,0],[128,0,122,0],[129,0,123,0],[130,0,124,0],[130,6,124,6,"showRouting"],[130,17,124,17],[130,21,124,21,"userLocation"],[130,33,124,33],[130,37,124,37,"selectedMarker"],[130,51,124,51],[130,54,124,54],[131,0,125,0],[132,0,126,0],[133,0,127,0],[133,19,127,19,"userLocation"],[133,31,127,31],[133,32,127,32,"latitude"],[133,40,127,40],[133,45,127,45,"userLocation"],[133,57,127,57],[133,58,127,58,"longitude"],[133,67,127,67],[134,0,128,0],[134,19,128,19,"selectedMarker"],[134,33,128,33],[134,34,128,34,"latitude"],[134,42,128,42],[134,47,128,47,"selectedMarker"],[134,61,128,61],[134,62,128,62,"longitude"],[134,71,128,71],[135,0,129,0],[136,0,130,0],[137,0,131,0],[138,0,132,0],[139,0,133,0],[140,0,134,0],[141,0,135,0],[142,0,136,0],[143,0,137,0],[143,5,137,5],[143,8,137,8],[143,10,137,10],[144,0,138,0],[145,0,139,0],[146,0,140,0],[147,0,141,0],[147,8,141,8,"selectedMarker"],[147,22,141,22],[147,25,142,8],[147,41,142,24,"selectedMarker"],[147,55,142,38],[147,56,142,39,"latitude"],[147,64,142,47],[147,69,142,52,"selectedMarker"],[147,83,142,66],[147,84,142,67,"longitude"],[147,93,142,76],[147,99,142,82,"zoomLevel"],[147,108,142,91],[147,112,142,95],[147,115,143,8],[147,175,143,68],[148,0,144,0],[149,0,145,0],[150,0,146,0],[151,0,147,0],[152,0,148,0],[152,3,149,3],[153,4,151,2],[153,24,152,4],[153,28,152,4,"_reactJsxDevRuntime"],[153,47,152,4],[153,48,152,4,"jsxDEV"],[153,54,152,4],[153,56,152,5,"View"],[153,60,152,9],[153,61,152,9,"default"],[153,68,152,9],[154,6,152,10,"style"],[154,11,152,15],[154,13,152,17,"styles"],[154,19,152,23],[154,20,152,24,"container"],[154,29,152,34],[155,6,152,34,"children"],[155,14,152,34],[155,29,153,6],[155,33,153,6,"_reactJsxDevRuntime"],[155,52,153,6],[155,53,153,6,"jsxDEV"],[155,59,153,6],[155,61,153,7,"_reactNativeWebview"],[155,80,153,14],[155,81,153,14,"WebView"],[155,88,153,14],[156,8,154,8,"ref"],[156,11,154,11],[156,13,154,13,"webViewRef"],[156,23,154,24],[157,8,155,8,"source"],[157,14,155,14],[157,16,155,16],[158,10,155,18,"html"],[158,14,155,22],[158,16,155,24,"htmlContent"],[159,8,155,36],[159,9,155,38],[160,8,156,8,"style"],[160,13,156,13],[160,15,156,15,"styles"],[160,21,156,21],[160,22,156,22,"webview"],[160,29,156,30],[161,8,157,8,"javaScriptEnabled"],[161,25,157,25],[161,27,157,27],[161,31,157,32],[162,8,158,8,"domStorageEnabled"],[162,25,158,25],[162,27,158,27],[162,31,158,32],[163,8,159,8,"geolocationEnabled"],[163,26,159,26],[163,28,159,28],[163,32,159,33],[164,8,160,8,"onError"],[164,15,160,15],[164,17,160,18,"syntheticEvent"],[164,31,160,32],[164,35,160,37],[165,10,161,10],[165,16,161,16],[166,12,161,18,"nativeEvent"],[167,10,161,30],[167,11,161,31],[167,14,161,34,"syntheticEvent"],[167,28,161,48],[168,10,162,10,"console"],[168,17,162,17],[168,18,162,18,"warn"],[168,22,162,22],[168,23,162,23],[168,40,162,40],[168,42,162,42,"nativeEvent"],[168,53,162,53],[168,54,162,54],[169,8,163,8],[170,6,163,10],[171,8,163,10,"fileName"],[171,16,163,10],[171,18,163,10,"_jsxFileName"],[171,30,163,10],[172,8,163,10,"lineNumber"],[172,18,163,10],[173,8,163,10,"columnNumber"],[173,20,163,10],[174,6,163,10],[174,13,164,7],[175,4,164,8],[176,6,164,8,"fileName"],[176,14,164,8],[176,16,164,8,"_jsxFileName"],[176,28,164,8],[177,6,164,8,"lineNumber"],[177,16,164,8],[178,6,164,8,"columnNumber"],[178,18,164,8],[179,4,164,8],[179,11,165,10],[179,12,165,11],[180,2,167,0],[181,2,167,1,"_s"],[181,4,167,1],[181,5,23,24,"LeafletMap"],[181,15,23,34],[182,2,23,34,"_c"],[182,4,23,34],[182,7,23,24,"LeafletMap"],[182,17,23,34],[183,2,169,0],[183,8,169,6,"styles"],[183,14,169,12],[183,17,169,15,"StyleSheet"],[183,27,169,25],[183,28,169,25,"default"],[183,35,169,25],[183,36,169,26,"create"],[183,42,169,32],[183,43,169,33],[184,4,170,2,"container"],[184,13,170,11],[184,15,170,13],[185,6,171,4,"flex"],[185,10,171,8],[185,12,171,10],[186,4,172,2],[186,5,172,3],[187,4,173,2,"webview"],[187,11,173,9],[187,13,173,11],[188,6,174,4,"flex"],[188,10,174,8],[188,12,174,10],[189,4,175,2],[190,2,176,0],[190,3,176,1],[190,4,176,2],[191,2,176,3],[191,6,176,3,"_c"],[191,8,176,3],[192,2,176,3,"$RefreshReg$"],[192,14,176,3],[192,15,176,3,"_c"],[192,17,176,3],[193,0,176,3],[193,3]],"functionMap":{"names":["<global>","LeafletMap","WebView.props.onError"],"mappings":"AAA;eCsB;iBCyI;SDG;CDI"},"hasCjsExports":false},"type":"js/module"}]}