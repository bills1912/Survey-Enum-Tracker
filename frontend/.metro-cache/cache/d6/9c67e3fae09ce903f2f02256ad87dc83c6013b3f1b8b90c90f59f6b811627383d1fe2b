{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":38,"index":38}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":39},"end":{"line":2,"column":48,"index":87}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"react-native-webview","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":88},"end":{"line":3,"column":47,"index":135}}],"key":"YJc7i/oIweCWhKjzjfYLEcLeUJA=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/components/LeafletMap.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return LeafletMap;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNative = require(_dependencyMap[1], \"react-native\");\n  var _reactNativeWebview = require(_dependencyMap[2], \"react-native-webview\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  function LeafletMap(_ref) {\n    _s();\n    var markers = _ref.markers,\n      center = _ref.center,\n      _ref$zoom = _ref.zoom,\n      zoom = _ref$zoom === void 0 ? 13 : _ref$zoom,\n      selectedMarker = _ref.selectedMarker,\n      userLocation = _ref.userLocation,\n      _ref$showRouting = _ref.showRouting,\n      showRouting = _ref$showRouting === void 0 ? false : _ref$showRouting;\n    var webViewRef = (0, _react.useRef)(null);\n    var defaultCenter = selectedMarker || center || (markers.length > 0 ? {\n      latitude: markers[0].latitude,\n      longitude: markers[0].longitude\n    } : {\n      latitude: -6.2088,\n      longitude: 106.8456\n    });\n    var zoomLevel = selectedMarker ? 16 : zoom;\n    var htmlContent = `\n<!DOCTYPE html>\n<html>\n<head>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\" />\n  <link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.css\" />\n  <link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css\" />\n  <script src=\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.js\"></script>\n  <script src=\"https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js\"></script>\n  <style>\n    body, html {\n      margin: 0;\n      padding: 0;\n      height: 100%;\n      width: 100%;\n    }\n    #map {\n      height: 100%;\n      width: 100%;\n    }\n    .custom-marker {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 40px;\n      height: 40px;\n      border-radius: 50%;\n      border: 3px solid white;\n      box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n      font-size: 24px;\n    }\n    .leaflet-routing-container {\n      display: none;\n    }\n  </style>\n</head>\n<body>\n  <div id=\"map\"></div>\n  <script>\n    // Initialize map\n    var map = L.map('map', {\n      zoomControl: true,\n      attributionControl: true\n    }).setView([${defaultCenter.latitude}, ${defaultCenter.longitude}], ${zoomLevel});\n\n    // Add OpenStreetMap tiles\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '¬© OpenStreetMap contributors',\n      maxZoom: 19\n    }).addTo(map);\n\n    // Custom icon function\n    function createCustomIcon(color, icon) {\n      return L.divIcon({\n        html: '<div class=\"custom-marker\" style=\"background-color: ' + color + ';\">' + icon + '</div>',\n        className: '',\n        iconSize: [40, 40],\n        iconAnchor: [20, 20],\n        popupAnchor: [0, -20]\n      });\n    }\n\n    // Add user location if provided\n    ${userLocation ? `\n    var userIcon = createCustomIcon('#2196F3', 'üì±');\n    var userMarker = L.marker([${userLocation.latitude}, ${userLocation.longitude}], { icon: userIcon })\n      .addTo(map)\n      .bindPopup('<b>Your Location</b><br/>Lat: ${userLocation.latitude.toFixed(6)}<br/>Lng: ${userLocation.longitude.toFixed(6)}');\n    ` : ''}\n\n    // Add markers\n    var markers = ${JSON.stringify(markers)};\n    var bounds = [];\n    ${userLocation ? `bounds.push([${userLocation.latitude}, ${userLocation.longitude}]);` : ''}\n\n    markers.forEach(function(marker) {\n      var icon = createCustomIcon(marker.color, marker.icon || 'üìç');\n      var m = L.marker([marker.latitude, marker.longitude], { icon: icon })\n        .addTo(map)\n        .bindPopup('<b>' + marker.title + '</b><br/>Lat: ' + marker.latitude.toFixed(6) + '<br/>Lng: ' + marker.longitude.toFixed(6));\n      \n      bounds.push([marker.latitude, marker.longitude]);\n    });\n\n    // Add routing if requested\n    ${showRouting && userLocation && selectedMarker ? `\n    L.Routing.control({\n      waypoints: [\n        L.latLng(${userLocation.latitude}, ${userLocation.longitude}),\n        L.latLng(${selectedMarker.latitude}, ${selectedMarker.longitude})\n      ],\n      routeWhileDragging: false,\n      show: false,\n      addWaypoints: false,\n      lineOptions: {\n        styles: [{color: '#2196F3', opacity: 0.8, weight: 5}]\n      }\n    }).addTo(map);\n    ` : ''}\n\n    // Fit map to show all markers\n    if (bounds.length > 0) {\n      ${selectedMarker ? `map.setView([${selectedMarker.latitude}, ${selectedMarker.longitude}], ${zoomLevel});` : `map.fitBounds(bounds, { padding: [50, 50], maxZoom: 15 });`}\n    }\n  </script>\n</body>\n</html>\n  `;\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNative.View, {\n      style: styles.container,\n      children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNativeWebview.WebView, {\n        ref: webViewRef,\n        source: {\n          html: htmlContent\n        },\n        style: styles.webview,\n        javaScriptEnabled: true,\n        domStorageEnabled: true,\n        geolocationEnabled: true,\n        onError: function onError(syntheticEvent) {\n          var nativeEvent = syntheticEvent.nativeEvent;\n          console.warn('WebView error: ', nativeEvent);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 5\n    }, this);\n  }\n  _s(LeafletMap, \"zSSM3VgnLEla5ccJN8DqNAIN7kE=\");\n  _c = LeafletMap;\n  var styles = _reactNative.StyleSheet.create({\n    container: {\n      flex: 1\n    },\n    webview: {\n      flex: 1\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"LeafletMap\");\n});","lineCount":184,"map":[[9,2,23,15,"Object"],[9,8,23,15],[9,9,23,15,"defineProperty"],[9,23,23,15],[9,24,23,15,"exports"],[9,31,23,15],[10,4,23,15,"enumerable"],[10,14,23,15],[11,4,23,15,"get"],[11,7,23,15],[11,18,23,15,"get"],[11,19,23,15],[12,6,23,15],[12,13,23,15,"LeafletMap"],[12,23,23,15],[13,4,23,15],[14,2,23,15],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,2,0],[16,6,2,0,"_reactNative"],[16,18,2,0],[16,21,2,0,"require"],[16,28,2,0],[16,29,2,0,"_dependencyMap"],[16,43,2,0],[17,2,3,0],[17,6,3,0,"_reactNativeWebview"],[17,25,3,0],[17,28,3,0,"require"],[17,35,3,0],[17,36,3,0,"_dependencyMap"],[17,50,3,0],[18,2,3,47],[18,6,3,47,"_reactJsxDevRuntime"],[18,25,3,47],[18,28,3,47,"require"],[18,35,3,47],[18,36,3,47,"_dependencyMap"],[18,50,3,47],[19,2,23,15],[19,11,23,24,"LeafletMap"],[19,21,23,34,"LeafletMap"],[19,22,23,34,"_ref"],[19,26,23,34],[19,28,30,20],[20,4,30,20,"_s"],[20,6,30,20],[21,4,30,20],[21,8,24,2,"markers"],[21,15,24,9],[21,18,24,9,"_ref"],[21,22,24,9],[21,23,24,2,"markers"],[21,30,24,9],[22,6,25,2,"center"],[22,12,25,8],[22,15,25,8,"_ref"],[22,19,25,8],[22,20,25,2,"center"],[22,26,25,8],[23,6,25,8,"_ref$zoom"],[23,15,25,8],[23,18,25,8,"_ref"],[23,22,25,8],[23,23,26,2,"zoom"],[23,27,26,6],[24,6,26,2,"zoom"],[24,10,26,6],[24,13,26,6,"_ref$zoom"],[24,22,26,6],[24,36,26,9],[24,38,26,11],[24,41,26,11,"_ref$zoom"],[24,50,26,11],[25,6,27,2,"selectedMarker"],[25,20,27,16],[25,23,27,16,"_ref"],[25,27,27,16],[25,28,27,2,"selectedMarker"],[25,42,27,16],[26,6,28,2,"userLocation"],[26,18,28,14],[26,21,28,14,"_ref"],[26,25,28,14],[26,26,28,2,"userLocation"],[26,38,28,14],[27,6,28,14,"_ref$showRouting"],[27,22,28,14],[27,25,28,14,"_ref"],[27,29,28,14],[27,30,29,2,"showRouting"],[27,41,29,13],[28,6,29,2,"showRouting"],[28,17,29,13],[28,20,29,13,"_ref$showRouting"],[28,36,29,13],[28,50,29,16],[28,55,29,21],[28,58,29,21,"_ref$showRouting"],[28,74,29,21],[29,4,31,2],[29,8,31,8,"webViewRef"],[29,18,31,18],[29,21,31,21],[29,25,31,21,"useRef"],[29,31,31,27],[29,32,31,27,"useRef"],[29,38,31,27],[29,40,31,37],[29,44,31,41],[29,45,31,42],[30,4,33,2],[30,8,33,8,"defaultCenter"],[30,21,33,21],[30,24,33,24,"selectedMarker"],[30,38,33,38],[30,42,33,42,"center"],[30,48,33,48],[30,53,33,53,"markers"],[30,60,33,60],[30,61,33,61,"length"],[30,67,33,67],[30,70,33,70],[30,71,33,71],[30,74,34,6],[31,6,34,8,"latitude"],[31,14,34,16],[31,16,34,18,"markers"],[31,23,34,25],[31,24,34,26],[31,25,34,27],[31,26,34,28],[31,27,34,29,"latitude"],[31,35,34,37],[32,6,34,39,"longitude"],[32,15,34,48],[32,17,34,50,"markers"],[32,24,34,57],[32,25,34,58],[32,26,34,59],[32,27,34,60],[32,28,34,61,"longitude"],[33,4,34,71],[33,5,34,72],[33,8,35,6],[34,6,35,8,"latitude"],[34,14,35,16],[34,16,35,18],[34,17,35,19],[34,23,35,25],[35,6,35,27,"longitude"],[35,15,35,36],[35,17,35,38],[36,4,35,47],[36,5,35,48],[36,6,35,49],[37,4,37,2],[37,8,37,8,"zoomLevel"],[37,17,37,17],[37,20,37,20,"selectedMarker"],[37,34,37,34],[37,37,37,37],[37,39,37,39],[37,42,37,42,"zoom"],[37,46,37,46],[38,4,39,2],[38,8,39,8,"htmlContent"],[38,19,39,19],[38,22,39,22],[39,0,40,0],[40,0,41,0],[41,0,42,0],[42,0,43,0],[43,0,44,0],[44,0,45,0],[45,0,46,0],[46,0,47,0],[47,0,48,0],[48,0,49,0],[49,0,50,0],[50,0,51,0],[51,0,52,0],[52,0,53,0],[53,0,54,0],[54,0,55,0],[55,0,56,0],[56,0,57,0],[57,0,58,0],[58,0,59,0],[59,0,60,0],[60,0,61,0],[61,0,62,0],[62,0,63,0],[63,0,64,0],[64,0,65,0],[65,0,66,0],[66,0,67,0],[67,0,68,0],[68,0,69,0],[69,0,70,0],[70,0,71,0],[71,0,72,0],[72,0,73,0],[73,0,74,0],[74,0,75,0],[75,0,76,0],[76,0,77,0],[77,0,78,0],[78,0,79,0],[79,0,80,0],[80,0,81,0],[81,0,82,0],[81,18,82,18,"defaultCenter"],[81,31,82,31],[81,32,82,32,"latitude"],[81,40,82,40],[81,45,82,45,"defaultCenter"],[81,58,82,58],[81,59,82,59,"longitude"],[81,68,82,68],[81,74,82,74,"zoomLevel"],[81,83,82,83],[82,0,83,0],[83,0,84,0],[84,0,85,0],[85,0,86,0],[86,0,87,0],[87,0,88,0],[88,0,89,0],[89,0,90,0],[90,0,91,0],[91,0,92,0],[92,0,93,0],[93,0,94,0],[94,0,95,0],[95,0,96,0],[96,0,97,0],[97,0,98,0],[98,0,99,0],[99,0,100,0],[100,0,101,0],[101,0,102,0],[101,6,102,6,"userLocation"],[101,18,102,18],[101,21,102,21],[102,0,103,0],[103,0,104,0],[103,33,104,33,"userLocation"],[103,45,104,45],[103,46,104,46,"latitude"],[103,54,104,54],[103,59,104,59,"userLocation"],[103,71,104,71],[103,72,104,72,"longitude"],[103,81,104,81],[104,0,105,0],[105,0,106,0],[105,50,106,50,"userLocation"],[105,62,106,62],[105,63,106,63,"latitude"],[105,71,106,71],[105,72,106,72,"toFixed"],[105,79,106,79],[105,80,106,80],[105,81,106,81],[105,82,106,82],[105,95,106,95,"userLocation"],[105,107,106,107],[105,108,106,108,"longitude"],[105,117,106,117],[105,118,106,118,"toFixed"],[105,125,106,125],[105,126,106,126],[105,127,106,127],[105,128,106,128],[106,0,107,0],[106,5,107,5],[106,8,107,8],[106,10,107,10],[107,0,108,0],[108,0,109,0],[109,0,110,0],[109,20,110,20,"JSON"],[109,24,110,24],[109,25,110,25,"stringify"],[109,34,110,34],[109,35,110,35,"markers"],[109,42,110,42],[109,43,110,43],[110,0,111,0],[111,0,112,0],[111,6,112,6,"userLocation"],[111,18,112,18],[111,21,112,21],[111,37,112,37,"userLocation"],[111,49,112,49],[111,50,112,50,"latitude"],[111,58,112,58],[111,63,112,63,"userLocation"],[111,75,112,75],[111,76,112,76,"longitude"],[111,85,112,85],[111,90,112,90],[111,93,112,93],[111,95,112,95],[112,0,113,0],[113,0,114,0],[114,0,115,0],[115,0,116,0],[116,0,117,0],[117,0,118,0],[118,0,119,0],[119,0,120,0],[120,0,121,0],[121,0,122,0],[122,0,123,0],[123,0,124,0],[123,6,124,6,"showRouting"],[123,17,124,17],[123,21,124,21,"userLocation"],[123,33,124,33],[123,37,124,37,"selectedMarker"],[123,51,124,51],[123,54,124,54],[124,0,125,0],[125,0,126,0],[126,0,127,0],[126,19,127,19,"userLocation"],[126,31,127,31],[126,32,127,32,"latitude"],[126,40,127,40],[126,45,127,45,"userLocation"],[126,57,127,57],[126,58,127,58,"longitude"],[126,67,127,67],[127,0,128,0],[127,19,128,19,"selectedMarker"],[127,33,128,33],[127,34,128,34,"latitude"],[127,42,128,42],[127,47,128,47,"selectedMarker"],[127,61,128,61],[127,62,128,62,"longitude"],[127,71,128,71],[128,0,129,0],[129,0,130,0],[130,0,131,0],[131,0,132,0],[132,0,133,0],[133,0,134,0],[134,0,135,0],[135,0,136,0],[136,0,137,0],[136,5,137,5],[136,8,137,8],[136,10,137,10],[137,0,138,0],[138,0,139,0],[139,0,140,0],[140,0,141,0],[140,8,141,8,"selectedMarker"],[140,22,141,22],[140,25,142,8],[140,41,142,24,"selectedMarker"],[140,55,142,38],[140,56,142,39,"latitude"],[140,64,142,47],[140,69,142,52,"selectedMarker"],[140,83,142,66],[140,84,142,67,"longitude"],[140,93,142,76],[140,99,142,82,"zoomLevel"],[140,108,142,91],[140,112,142,95],[140,115,143,8],[140,175,143,68],[141,0,144,0],[142,0,145,0],[143,0,146,0],[144,0,147,0],[145,0,148,0],[145,3,149,3],[146,4,151,2],[146,24,152,4],[146,28,152,4,"_reactJsxDevRuntime"],[146,47,152,4],[146,48,152,4,"jsxDEV"],[146,54,152,4],[146,56,152,5,"_reactNative"],[146,68,152,9],[146,69,152,9,"View"],[146,73,152,9],[147,6,152,10,"style"],[147,11,152,15],[147,13,152,17,"styles"],[147,19,152,23],[147,20,152,24,"container"],[147,29,152,34],[148,6,152,34,"children"],[148,14,152,34],[148,29,153,6],[148,33,153,6,"_reactJsxDevRuntime"],[148,52,153,6],[148,53,153,6,"jsxDEV"],[148,59,153,6],[148,61,153,7,"_reactNativeWebview"],[148,80,153,14],[148,81,153,14,"WebView"],[148,88,153,14],[149,8,154,8,"ref"],[149,11,154,11],[149,13,154,13,"webViewRef"],[149,23,154,24],[150,8,155,8,"source"],[150,14,155,14],[150,16,155,16],[151,10,155,18,"html"],[151,14,155,22],[151,16,155,24,"htmlContent"],[152,8,155,36],[152,9,155,38],[153,8,156,8,"style"],[153,13,156,13],[153,15,156,15,"styles"],[153,21,156,21],[153,22,156,22,"webview"],[153,29,156,30],[154,8,157,8,"javaScriptEnabled"],[154,25,157,25],[154,27,157,27],[154,31,157,32],[155,8,158,8,"domStorageEnabled"],[155,25,158,25],[155,27,158,27],[155,31,158,32],[156,8,159,8,"geolocationEnabled"],[156,26,159,26],[156,28,159,28],[156,32,159,33],[157,8,160,8,"onError"],[157,15,160,15],[157,17,160,17],[157,26,160,8,"onError"],[157,33,160,15,"onError"],[157,34,160,18,"syntheticEvent"],[157,48,160,32],[157,50,160,37],[158,10,161,10],[158,14,161,18,"nativeEvent"],[158,25,161,29],[158,28,161,34,"syntheticEvent"],[158,42,161,48],[158,43,161,18,"nativeEvent"],[158,54,161,29],[159,10,162,10,"console"],[159,17,162,17],[159,18,162,18,"warn"],[159,22,162,22],[159,23,162,23],[159,40,162,40],[159,42,162,42,"nativeEvent"],[159,53,162,53],[159,54,162,54],[160,8,163,8],[161,6,163,10],[162,8,163,10,"fileName"],[162,16,163,10],[162,18,163,10,"_jsxFileName"],[162,30,163,10],[163,8,163,10,"lineNumber"],[163,18,163,10],[164,8,163,10,"columnNumber"],[164,20,163,10],[165,6,163,10],[165,13,164,7],[166,4,164,8],[167,6,164,8,"fileName"],[167,14,164,8],[167,16,164,8,"_jsxFileName"],[167,28,164,8],[168,6,164,8,"lineNumber"],[168,16,164,8],[169,6,164,8,"columnNumber"],[169,18,164,8],[170,4,164,8],[170,11,165,10],[170,12,165,11],[171,2,167,0],[172,2,167,1,"_s"],[172,4,167,1],[172,5,23,24,"LeafletMap"],[172,15,23,34],[173,2,23,34,"_c"],[173,4,23,34],[173,7,23,24,"LeafletMap"],[173,17,23,34],[174,2,169,0],[174,6,169,6,"styles"],[174,12,169,12],[174,15,169,15,"StyleSheet"],[174,27,169,25],[174,28,169,25,"StyleSheet"],[174,38,169,25],[174,39,169,26,"create"],[174,45,169,32],[174,46,169,33],[175,4,170,2,"container"],[175,13,170,11],[175,15,170,13],[176,6,171,4,"flex"],[176,10,171,8],[176,12,171,10],[177,4,172,2],[177,5,172,3],[178,4,173,2,"webview"],[178,11,173,9],[178,13,173,11],[179,6,174,4,"flex"],[179,10,174,8],[179,12,174,10],[180,4,175,2],[181,2,176,0],[181,3,176,1],[181,4,176,2],[182,2,176,3],[182,6,176,3,"_c"],[182,8,176,3],[183,2,176,3,"$RefreshReg$"],[183,14,176,3],[183,15,176,3,"_c"],[183,17,176,3],[184,0,176,3],[184,3]],"functionMap":{"names":["<global>","LeafletMap","WebView.props.onError"],"mappings":"AAA;eCsB;iBCyI;SDG;CDI"},"hasCjsExports":false},"type":"js/module"}]}