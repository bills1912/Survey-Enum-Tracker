{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":38,"index":38}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-webview","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":88},"end":{"line":3,"column":47,"index":135}}],"key":"YJc7i/oIweCWhKjzjfYLEcLeUJA=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/components/LeafletMap.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return LeafletMap;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[2], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebview = require(_dependencyMap[3], \"react-native-webview\");\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  function LeafletMap({\n    markers,\n    center,\n    zoom = 13,\n    selectedMarker,\n    userLocation,\n    showRouting = false\n  }) {\n    const webViewRef = (0, _react.useRef)(null);\n    const defaultCenter = selectedMarker || center || (markers.length > 0 ? {\n      latitude: markers[0].latitude,\n      longitude: markers[0].longitude\n    } : {\n      latitude: -6.2088,\n      longitude: 106.8456\n    });\n    const zoomLevel = selectedMarker ? 16 : zoom;\n    const htmlContent = `\n<!DOCTYPE html>\n<html>\n<head>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\" />\n  <link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.css\" />\n  <link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css\" />\n  <script src=\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.js\"></script>\n  <script src=\"https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js\"></script>\n  <style>\n    body, html {\n      margin: 0;\n      padding: 0;\n      height: 100%;\n      width: 100%;\n    }\n    #map {\n      height: 100%;\n      width: 100%;\n    }\n    .custom-marker {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 40px;\n      height: 40px;\n      border-radius: 50%;\n      border: 3px solid white;\n      box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n      font-size: 24px;\n    }\n    .leaflet-routing-container {\n      display: none;\n    }\n  </style>\n</head>\n<body>\n  <div id=\"map\"></div>\n  <script>\n    // Initialize map\n    var map = L.map('map', {\n      zoomControl: true,\n      attributionControl: true\n    }).setView([${defaultCenter.latitude}, ${defaultCenter.longitude}], ${zoomLevel});\n\n    // Add Google Hybrid tiles (Satellite + Labels)\n    L.tileLayer('http://{s}.google.com/vt/lyrs=y&x={x}&y={y}&z={z}', {\n      maxZoom: 20,\n      subdomains: ['mt0', 'mt1', 'mt2', 'mt3'],\n      attribution: '¬© Google Maps'\n    }).addTo(map);\n\n    // Custom icon function\n    function createCustomIcon(color, icon) {\n      return L.divIcon({\n        html: '<div class=\"custom-marker\" style=\"background-color: ' + color + ';\">' + icon + '</div>',\n        className: '',\n        iconSize: [40, 40],\n        iconAnchor: [20, 20],\n        popupAnchor: [0, -20]\n      });\n    }\n\n    // Add user location if provided\n    ${userLocation ? `\n    var userIcon = createCustomIcon('#2196F3', 'üì±');\n    var userMarker = L.marker([${userLocation.latitude}, ${userLocation.longitude}], { icon: userIcon })\n      .addTo(map)\n      .bindPopup('<b>Your Location</b><br/>Lat: ${userLocation.latitude.toFixed(6)}<br/>Lng: ${userLocation.longitude.toFixed(6)}');\n    ` : ''}\n\n    // Add markers\n    var markers = ${JSON.stringify(markers)};\n    var bounds = [];\n    ${userLocation ? `bounds.push([${userLocation.latitude}, ${userLocation.longitude}]);` : ''}\n\n    markers.forEach(function(marker) {\n      var icon = createCustomIcon(marker.color, marker.icon || 'üìç');\n      var m = L.marker([marker.latitude, marker.longitude], { icon: icon })\n        .addTo(map)\n        .bindPopup('<b>' + marker.title + '</b><br/>Lat: ' + marker.latitude.toFixed(6) + '<br/>Lng: ' + marker.longitude.toFixed(6));\n      \n      bounds.push([marker.latitude, marker.longitude]);\n    });\n\n    // Add routing if requested\n    ${showRouting && userLocation && selectedMarker ? `\n    L.Routing.control({\n      waypoints: [\n        L.latLng(${userLocation.latitude}, ${userLocation.longitude}),\n        L.latLng(${selectedMarker.latitude}, ${selectedMarker.longitude})\n      ],\n      routeWhileDragging: false,\n      show: false,\n      addWaypoints: false,\n      lineOptions: {\n        styles: [{color: '#2196F3', opacity: 0.8, weight: 5}]\n      }\n    }).addTo(map);\n    ` : ''}\n\n    // Fit map to show all markers\n    if (bounds.length > 0) {\n      ${selectedMarker ? `map.setView([${selectedMarker.latitude}, ${selectedMarker.longitude}], ${zoomLevel});` : `map.fitBounds(bounds, { padding: [50, 50], maxZoom: 15 });`}\n    }\n  </script>\n</body>\n</html>\n  `;\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n      style: styles.container,\n      children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNativeWebview.WebView, {\n        ref: webViewRef,\n        source: {\n          html: htmlContent\n        },\n        style: styles.webview,\n        javaScriptEnabled: true,\n        domStorageEnabled: true,\n        geolocationEnabled: true,\n        onError: syntheticEvent => {\n          const {\n            nativeEvent\n          } = syntheticEvent;\n          console.warn('WebView error: ', nativeEvent);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 5\n    }, this);\n  }\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1\n    },\n    webview: {\n      flex: 1\n    }\n  });\n});","lineCount":188,"map":[[13,2,24,15,"Object"],[13,8,24,15],[13,9,24,15,"defineProperty"],[13,23,24,15],[13,24,24,15,"exports"],[13,31,24,15],[14,4,24,15,"enumerable"],[14,14,24,15],[15,4,24,15,"get"],[15,7,24,15],[15,18,24,15,"get"],[15,19,24,15],[16,6,24,15],[16,13,24,15,"LeafletMap"],[16,23,24,15],[17,4,24,15],[18,2,24,15],[19,2,1,0],[19,6,1,0,"_react"],[19,12,1,0],[19,15,1,0,"require"],[19,22,1,0],[19,23,1,0,"_dependencyMap"],[19,37,1,0],[20,2,1,38],[20,6,1,38,"_reactNativeWebDistExportsView"],[20,36,1,38],[20,39,1,38,"require"],[20,46,1,38],[20,47,1,38,"_dependencyMap"],[20,61,1,38],[21,2,1,38],[21,6,1,38,"View"],[21,10,1,38],[21,13,1,38,"_interopDefault"],[21,28,1,38],[21,29,1,38,"_reactNativeWebDistExportsView"],[21,59,1,38],[22,2,1,38],[22,6,1,38,"_reactNativeWebDistExportsStyleSheet"],[22,42,1,38],[22,45,1,38,"require"],[22,52,1,38],[22,53,1,38,"_dependencyMap"],[22,67,1,38],[23,2,1,38],[23,6,1,38,"StyleSheet"],[23,16,1,38],[23,19,1,38,"_interopDefault"],[23,34,1,38],[23,35,1,38,"_reactNativeWebDistExportsStyleSheet"],[23,71,1,38],[24,2,3,0],[24,6,3,0,"_reactNativeWebview"],[24,25,3,0],[24,28,3,0,"require"],[24,35,3,0],[24,36,3,0,"_dependencyMap"],[24,50,3,0],[25,2,3,47],[25,6,3,47,"_reactJsxDevRuntime"],[25,25,3,47],[25,28,3,47,"require"],[25,35,3,47],[25,36,3,47,"_dependencyMap"],[25,50,3,47],[26,2,24,15],[26,11,24,24,"LeafletMap"],[26,21,24,34,"LeafletMap"],[26,22,24,35],[27,4,25,2,"markers"],[27,11,25,9],[28,4,26,2,"center"],[28,10,26,8],[29,4,27,2,"zoom"],[29,8,27,6],[29,11,27,9],[29,13,27,11],[30,4,28,2,"selectedMarker"],[30,18,28,16],[31,4,29,2,"userLocation"],[31,16,29,14],[32,4,30,2,"showRouting"],[32,15,30,13],[32,18,30,16],[33,2,31,17],[33,3,31,18],[33,5,31,20],[34,4,32,2],[34,10,32,8,"webViewRef"],[34,20,32,18],[34,23,32,21],[34,27,32,21,"useRef"],[34,33,32,27],[34,34,32,27,"useRef"],[34,40,32,27],[34,42,32,37],[34,46,32,41],[34,47,32,42],[35,4,34,2],[35,10,34,8,"defaultCenter"],[35,23,34,21],[35,26,34,24,"selectedMarker"],[35,40,34,38],[35,44,34,42,"center"],[35,50,34,48],[35,55,34,53,"markers"],[35,62,34,60],[35,63,34,61,"length"],[35,69,34,67],[35,72,34,70],[35,73,34,71],[35,76,35,6],[36,6,35,8,"latitude"],[36,14,35,16],[36,16,35,18,"markers"],[36,23,35,25],[36,24,35,26],[36,25,35,27],[36,26,35,28],[36,27,35,29,"latitude"],[36,35,35,37],[37,6,35,39,"longitude"],[37,15,35,48],[37,17,35,50,"markers"],[37,24,35,57],[37,25,35,58],[37,26,35,59],[37,27,35,60],[37,28,35,61,"longitude"],[38,4,35,71],[38,5,35,72],[38,8,36,6],[39,6,36,8,"latitude"],[39,14,36,16],[39,16,36,18],[39,17,36,19],[39,23,36,25],[40,6,36,27,"longitude"],[40,15,36,36],[40,17,36,38],[41,4,36,47],[41,5,36,48],[41,6,36,49],[42,4,38,2],[42,10,38,8,"zoomLevel"],[42,19,38,17],[42,22,38,20,"selectedMarker"],[42,36,38,34],[42,39,38,37],[42,41,38,39],[42,44,38,42,"zoom"],[42,48,38,46],[43,4,40,2],[43,10,40,8,"htmlContent"],[43,21,40,19],[43,24,40,22],[44,0,41,0],[45,0,42,0],[46,0,43,0],[47,0,44,0],[48,0,45,0],[49,0,46,0],[50,0,47,0],[51,0,48,0],[52,0,49,0],[53,0,50,0],[54,0,51,0],[55,0,52,0],[56,0,53,0],[57,0,54,0],[58,0,55,0],[59,0,56,0],[60,0,57,0],[61,0,58,0],[62,0,59,0],[63,0,60,0],[64,0,61,0],[65,0,62,0],[66,0,63,0],[67,0,64,0],[68,0,65,0],[69,0,66,0],[70,0,67,0],[71,0,68,0],[72,0,69,0],[73,0,70,0],[74,0,71,0],[75,0,72,0],[76,0,73,0],[77,0,74,0],[78,0,75,0],[79,0,76,0],[80,0,77,0],[81,0,78,0],[82,0,79,0],[83,0,80,0],[84,0,81,0],[85,0,82,0],[86,0,83,0],[86,18,83,18,"defaultCenter"],[86,31,83,31],[86,32,83,32,"latitude"],[86,40,83,40],[86,45,83,45,"defaultCenter"],[86,58,83,58],[86,59,83,59,"longitude"],[86,68,83,68],[86,74,83,74,"zoomLevel"],[86,83,83,83],[87,0,84,0],[88,0,85,0],[89,0,86,0],[90,0,87,0],[91,0,88,0],[92,0,89,0],[93,0,90,0],[94,0,91,0],[95,0,92,0],[96,0,93,0],[97,0,94,0],[98,0,95,0],[99,0,96,0],[100,0,97,0],[101,0,98,0],[102,0,99,0],[103,0,100,0],[104,0,101,0],[105,0,102,0],[106,0,103,0],[107,0,104,0],[107,6,104,6,"userLocation"],[107,18,104,18],[107,21,104,21],[108,0,105,0],[109,0,106,0],[109,33,106,33,"userLocation"],[109,45,106,45],[109,46,106,46,"latitude"],[109,54,106,54],[109,59,106,59,"userLocation"],[109,71,106,71],[109,72,106,72,"longitude"],[109,81,106,81],[110,0,107,0],[111,0,108,0],[111,50,108,50,"userLocation"],[111,62,108,62],[111,63,108,63,"latitude"],[111,71,108,71],[111,72,108,72,"toFixed"],[111,79,108,79],[111,80,108,80],[111,81,108,81],[111,82,108,82],[111,95,108,95,"userLocation"],[111,107,108,107],[111,108,108,108,"longitude"],[111,117,108,117],[111,118,108,118,"toFixed"],[111,125,108,125],[111,126,108,126],[111,127,108,127],[111,128,108,128],[112,0,109,0],[112,5,109,5],[112,8,109,8],[112,10,109,10],[113,0,110,0],[114,0,111,0],[115,0,112,0],[115,20,112,20,"JSON"],[115,24,112,24],[115,25,112,25,"stringify"],[115,34,112,34],[115,35,112,35,"markers"],[115,42,112,42],[115,43,112,43],[116,0,113,0],[117,0,114,0],[117,6,114,6,"userLocation"],[117,18,114,18],[117,21,114,21],[117,37,114,37,"userLocation"],[117,49,114,49],[117,50,114,50,"latitude"],[117,58,114,58],[117,63,114,63,"userLocation"],[117,75,114,75],[117,76,114,76,"longitude"],[117,85,114,85],[117,90,114,90],[117,93,114,93],[117,95,114,95],[118,0,115,0],[119,0,116,0],[120,0,117,0],[121,0,118,0],[122,0,119,0],[123,0,120,0],[124,0,121,0],[125,0,122,0],[126,0,123,0],[127,0,124,0],[128,0,125,0],[129,0,126,0],[129,6,126,6,"showRouting"],[129,17,126,17],[129,21,126,21,"userLocation"],[129,33,126,33],[129,37,126,37,"selectedMarker"],[129,51,126,51],[129,54,126,54],[130,0,127,0],[131,0,128,0],[132,0,129,0],[132,19,129,19,"userLocation"],[132,31,129,31],[132,32,129,32,"latitude"],[132,40,129,40],[132,45,129,45,"userLocation"],[132,57,129,57],[132,58,129,58,"longitude"],[132,67,129,67],[133,0,130,0],[133,19,130,19,"selectedMarker"],[133,33,130,33],[133,34,130,34,"latitude"],[133,42,130,42],[133,47,130,47,"selectedMarker"],[133,61,130,61],[133,62,130,62,"longitude"],[133,71,130,71],[134,0,131,0],[135,0,132,0],[136,0,133,0],[137,0,134,0],[138,0,135,0],[139,0,136,0],[140,0,137,0],[141,0,138,0],[142,0,139,0],[142,5,139,5],[142,8,139,8],[142,10,139,10],[143,0,140,0],[144,0,141,0],[145,0,142,0],[146,0,143,0],[146,8,143,8,"selectedMarker"],[146,22,143,22],[146,25,144,8],[146,41,144,24,"selectedMarker"],[146,55,144,38],[146,56,144,39,"latitude"],[146,64,144,47],[146,69,144,52,"selectedMarker"],[146,83,144,66],[146,84,144,67,"longitude"],[146,93,144,76],[146,99,144,82,"zoomLevel"],[146,108,144,91],[146,112,144,95],[146,115,145,8],[146,175,145,68],[147,0,146,0],[148,0,147,0],[149,0,148,0],[150,0,149,0],[151,0,150,0],[151,3,151,3],[152,4,153,2],[152,24,154,4],[152,28,154,4,"_reactJsxDevRuntime"],[152,47,154,4],[152,48,154,4,"jsxDEV"],[152,54,154,4],[152,56,154,5,"View"],[152,60,154,9],[152,61,154,9,"default"],[152,68,154,9],[153,6,154,10,"style"],[153,11,154,15],[153,13,154,17,"styles"],[153,19,154,23],[153,20,154,24,"container"],[153,29,154,34],[154,6,154,34,"children"],[154,14,154,34],[154,29,155,6],[154,33,155,6,"_reactJsxDevRuntime"],[154,52,155,6],[154,53,155,6,"jsxDEV"],[154,59,155,6],[154,61,155,7,"_reactNativeWebview"],[154,80,155,14],[154,81,155,14,"WebView"],[154,88,155,14],[155,8,156,8,"ref"],[155,11,156,11],[155,13,156,13,"webViewRef"],[155,23,156,24],[156,8,157,8,"source"],[156,14,157,14],[156,16,157,16],[157,10,157,18,"html"],[157,14,157,22],[157,16,157,24,"htmlContent"],[158,8,157,36],[158,9,157,38],[159,8,158,8,"style"],[159,13,158,13],[159,15,158,15,"styles"],[159,21,158,21],[159,22,158,22,"webview"],[159,29,158,30],[160,8,159,8,"javaScriptEnabled"],[160,25,159,25],[160,27,159,27],[160,31,159,32],[161,8,160,8,"domStorageEnabled"],[161,25,160,25],[161,27,160,27],[161,31,160,32],[162,8,161,8,"geolocationEnabled"],[162,26,161,26],[162,28,161,28],[162,32,161,33],[163,8,162,8,"onError"],[163,15,162,15],[163,17,162,18,"syntheticEvent"],[163,31,162,32],[163,35,162,37],[164,10,163,10],[164,16,163,16],[165,12,163,18,"nativeEvent"],[166,10,163,30],[166,11,163,31],[166,14,163,34,"syntheticEvent"],[166,28,163,48],[167,10,164,10,"console"],[167,17,164,17],[167,18,164,18,"warn"],[167,22,164,22],[167,23,164,23],[167,40,164,40],[167,42,164,42,"nativeEvent"],[167,53,164,53],[167,54,164,54],[168,8,165,8],[169,6,165,10],[170,8,165,10,"fileName"],[170,16,165,10],[170,18,165,10,"_jsxFileName"],[170,30,165,10],[171,8,165,10,"lineNumber"],[171,18,165,10],[172,8,165,10,"columnNumber"],[172,20,165,10],[173,6,165,10],[173,13,166,7],[174,4,166,8],[175,6,166,8,"fileName"],[175,14,166,8],[175,16,166,8,"_jsxFileName"],[175,28,166,8],[176,6,166,8,"lineNumber"],[176,16,166,8],[177,6,166,8,"columnNumber"],[177,18,166,8],[178,4,166,8],[178,11,167,10],[178,12,167,11],[179,2,169,0],[180,2,171,0],[180,8,171,6,"styles"],[180,14,171,12],[180,17,171,15,"StyleSheet"],[180,27,171,25],[180,28,171,25,"default"],[180,35,171,25],[180,36,171,26,"create"],[180,42,171,32],[180,43,171,33],[181,4,172,2,"container"],[181,13,172,11],[181,15,172,13],[182,6,173,4,"flex"],[182,10,173,8],[182,12,173,10],[183,4,174,2],[183,5,174,3],[184,4,175,2,"webview"],[184,11,175,9],[184,13,175,11],[185,6,176,4,"flex"],[185,10,176,8],[185,12,176,10],[186,4,177,2],[187,2,178,0],[187,3,178,1],[187,4,178,2],[188,0,178,3],[188,3]],"functionMap":{"names":["<global>","LeafletMap","WebView.props.onError"],"mappings":"AAA;eCuB;iBC0I;SDG;CDI"},"hasCjsExports":false},"type":"js/module"}]}