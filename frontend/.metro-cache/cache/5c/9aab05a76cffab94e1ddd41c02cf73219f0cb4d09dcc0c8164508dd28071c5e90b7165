{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":38,"index":38}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-webview","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":88},"end":{"line":3,"column":47,"index":135}}],"key":"YJc7i/oIweCWhKjzjfYLEcLeUJA=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/components/LeafletMap.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return LeafletMap;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[2], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebview = require(_dependencyMap[3], \"react-native-webview\");\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  function LeafletMap({\n    markers,\n    center,\n    zoom = 13,\n    selectedMarker,\n    userLocation,\n    showRouting = false,\n    basemap = 'osm'\n  }) {\n    const webViewRef = (0, _react.useRef)(null);\n    const defaultCenter = selectedMarker || center || (markers.length > 0 ? {\n      latitude: markers[0].latitude,\n      longitude: markers[0].longitude\n    } : {\n      latitude: -6.2088,\n      longitude: 106.8456\n    });\n    const zoomLevel = selectedMarker ? 16 : zoom;\n\n    // Basemap tile layer configuration\n    const getBasemapLayer = () => {\n      switch (basemap) {\n        case 'satellite':\n          return `\n          L.tileLayer('https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}', {\n            maxZoom: 20,\n            subdomains: ['mt0', 'mt1', 'mt2', 'mt3'],\n            attribution: '¬© Google Maps'\n          }).addTo(map);\n        `;\n        case 'hybrid':\n          return `\n          L.tileLayer('https://{s}.google.com/vt/lyrs=y&x={x}&y={y}&z={z}', {\n            maxZoom: 20,\n            subdomains: ['mt0', 'mt1', 'mt2', 'mt3'],\n            attribution: '¬© Google Maps'\n          }).addTo(map);\n        `;\n        default:\n          // 'osm'\n          return `\n          L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n            attribution: '¬© OpenStreetMap contributors',\n            maxZoom: 19\n          }).addTo(map);\n        `;\n      }\n    };\n    const htmlContent = `\n<!DOCTYPE html>\n<html>\n<head>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\" />\n  <link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.css\" />\n  <link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css\" />\n  <script src=\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.js\"></script>\n  <script src=\"https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js\"></script>\n  <style>\n    body, html {\n      margin: 0;\n      padding: 0;\n      height: 100%;\n      width: 100%;\n    }\n    #map {\n      height: 100%;\n      width: 100%;\n    }\n    .custom-marker {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 40px;\n      height: 40px;\n      border-radius: 50%;\n      border: 3px solid white;\n      box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n      font-size: 24px;\n    }\n    .leaflet-routing-container {\n      display: none;\n    }\n  </style>\n</head>\n<body>\n  <div id=\"map\"></div>\n  <script>\n    // Initialize map\n    var map = L.map('map', {\n      zoomControl: true,\n      attributionControl: true\n    }).setView([${defaultCenter.latitude}, ${defaultCenter.longitude}], ${zoomLevel});\n\n    // Add basemap tiles\n    ${getBasemapLayer()}\n\n    // Custom icon function\n    function createCustomIcon(color, icon) {\n      return L.divIcon({\n        html: '<div class=\"custom-marker\" style=\"background-color: ' + color + ';\">' + icon + '</div>',\n        className: '',\n        iconSize: [40, 40],\n        iconAnchor: [20, 20],\n        popupAnchor: [0, -20]\n      });\n    }\n\n    // Add markers\n    ${markers.map(marker => `\n      L.marker([${marker.latitude}, ${marker.longitude}], {\n        icon: createCustomIcon('${marker.color}', '${marker.icon || 'üìç'}')\n      }).addTo(map)\n        .bindPopup('<b>${marker.title}</b>');\n    `).join('')}\n\n    // Add user location marker if available\n    ${userLocation ? `\n      L.marker([${userLocation.latitude}, ${userLocation.longitude}], {\n        icon: createCustomIcon('#2196F3', 'üë§')\n      }).addTo(map)\n        .bindPopup('<b>Your Location</b>');\n    ` : ''}\n\n    // Add routing if enabled\n    ${showRouting && userLocation && selectedMarker ? `\n      L.Routing.control({\n        waypoints: [\n          L.latLng(${userLocation.latitude}, ${userLocation.longitude}),\n          L.latLng(${selectedMarker.latitude}, ${selectedMarker.longitude})\n        ],\n        routeWhileDragging: false,\n        addWaypoints: false,\n        draggableWaypoints: false,\n        fitSelectedRoutes: true,\n        showAlternatives: false\n      }).addTo(map);\n    ` : ''}\n  </script>\n</body>\n</html>\n  `;\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n      style: styles.container,\n      children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNativeWebview.WebView, {\n        ref: webViewRef,\n        source: {\n          html: htmlContent\n        },\n        style: styles.webview,\n        javaScriptEnabled: true,\n        domStorageEnabled: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 5\n    }, this);\n  }\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1\n    },\n    webview: {\n      flex: 1\n    }\n  });\n});","lineCount":196,"map":[[13,2,25,15,"Object"],[13,8,25,15],[13,9,25,15,"defineProperty"],[13,23,25,15],[13,24,25,15,"exports"],[13,31,25,15],[14,4,25,15,"enumerable"],[14,14,25,15],[15,4,25,15,"get"],[15,7,25,15],[15,18,25,15,"get"],[15,19,25,15],[16,6,25,15],[16,13,25,15,"LeafletMap"],[16,23,25,15],[17,4,25,15],[18,2,25,15],[19,2,1,0],[19,6,1,0,"_react"],[19,12,1,0],[19,15,1,0,"require"],[19,22,1,0],[19,23,1,0,"_dependencyMap"],[19,37,1,0],[20,2,1,38],[20,6,1,38,"_reactNativeWebDistExportsView"],[20,36,1,38],[20,39,1,38,"require"],[20,46,1,38],[20,47,1,38,"_dependencyMap"],[20,61,1,38],[21,2,1,38],[21,6,1,38,"View"],[21,10,1,38],[21,13,1,38,"_interopDefault"],[21,28,1,38],[21,29,1,38,"_reactNativeWebDistExportsView"],[21,59,1,38],[22,2,1,38],[22,6,1,38,"_reactNativeWebDistExportsStyleSheet"],[22,42,1,38],[22,45,1,38,"require"],[22,52,1,38],[22,53,1,38,"_dependencyMap"],[22,67,1,38],[23,2,1,38],[23,6,1,38,"StyleSheet"],[23,16,1,38],[23,19,1,38,"_interopDefault"],[23,34,1,38],[23,35,1,38,"_reactNativeWebDistExportsStyleSheet"],[23,71,1,38],[24,2,3,0],[24,6,3,0,"_reactNativeWebview"],[24,25,3,0],[24,28,3,0,"require"],[24,35,3,0],[24,36,3,0,"_dependencyMap"],[24,50,3,0],[25,2,3,47],[25,6,3,47,"_reactJsxDevRuntime"],[25,25,3,47],[25,28,3,47,"require"],[25,35,3,47],[25,36,3,47,"_dependencyMap"],[25,50,3,47],[26,2,25,15],[26,11,25,24,"LeafletMap"],[26,21,25,34,"LeafletMap"],[26,22,25,35],[27,4,26,2,"markers"],[27,11,26,9],[28,4,27,2,"center"],[28,10,27,8],[29,4,28,2,"zoom"],[29,8,28,6],[29,11,28,9],[29,13,28,11],[30,4,29,2,"selectedMarker"],[30,18,29,16],[31,4,30,2,"userLocation"],[31,16,30,14],[32,4,31,2,"showRouting"],[32,15,31,13],[32,18,31,16],[32,23,31,21],[33,4,32,2,"basemap"],[33,11,32,9],[33,14,32,12],[34,2,33,17],[34,3,33,18],[34,5,33,20],[35,4,34,2],[35,10,34,8,"webViewRef"],[35,20,34,18],[35,23,34,21],[35,27,34,21,"useRef"],[35,33,34,27],[35,34,34,27,"useRef"],[35,40,34,27],[35,42,34,37],[35,46,34,41],[35,47,34,42],[36,4,36,2],[36,10,36,8,"defaultCenter"],[36,23,36,21],[36,26,36,24,"selectedMarker"],[36,40,36,38],[36,44,36,42,"center"],[36,50,36,48],[36,55,36,53,"markers"],[36,62,36,60],[36,63,36,61,"length"],[36,69,36,67],[36,72,36,70],[36,73,36,71],[36,76,37,6],[37,6,37,8,"latitude"],[37,14,37,16],[37,16,37,18,"markers"],[37,23,37,25],[37,24,37,26],[37,25,37,27],[37,26,37,28],[37,27,37,29,"latitude"],[37,35,37,37],[38,6,37,39,"longitude"],[38,15,37,48],[38,17,37,50,"markers"],[38,24,37,57],[38,25,37,58],[38,26,37,59],[38,27,37,60],[38,28,37,61,"longitude"],[39,4,37,71],[39,5,37,72],[39,8,38,6],[40,6,38,8,"latitude"],[40,14,38,16],[40,16,38,18],[40,17,38,19],[40,23,38,25],[41,6,38,27,"longitude"],[41,15,38,36],[41,17,38,38],[42,4,38,47],[42,5,38,48],[42,6,38,49],[43,4,40,2],[43,10,40,8,"zoomLevel"],[43,19,40,17],[43,22,40,20,"selectedMarker"],[43,36,40,34],[43,39,40,37],[43,41,40,39],[43,44,40,42,"zoom"],[43,48,40,46],[45,4,42,2],[46,4,43,2],[46,10,43,8,"getBasemapLayer"],[46,25,43,23],[46,28,43,26,"getBasemapLayer"],[46,29,43,26],[46,34,43,32],[47,6,44,4],[47,14,44,12,"basemap"],[47,21,44,19],[48,8,45,6],[48,13,45,11],[48,24,45,22],[49,10,46,8],[49,17,46,15],[50,0,47,0],[51,0,48,0],[52,0,49,0],[53,0,50,0],[54,0,51,0],[55,0,52,0],[55,9,52,9],[56,8,53,6],[56,13,53,11],[56,21,53,19],[57,10,54,8],[57,17,54,15],[58,0,55,0],[59,0,56,0],[60,0,57,0],[61,0,58,0],[62,0,59,0],[63,0,60,0],[63,9,60,9],[64,8,61,6],[65,10,61,15],[66,10,62,8],[66,17,62,15],[67,0,63,0],[68,0,64,0],[69,0,65,0],[70,0,66,0],[71,0,67,0],[71,9,67,9],[72,6,68,4],[73,4,69,2],[73,5,69,3],[74,4,71,2],[74,10,71,8,"htmlContent"],[74,21,71,19],[74,24,71,22],[75,0,72,0],[76,0,73,0],[77,0,74,0],[78,0,75,0],[79,0,76,0],[80,0,77,0],[81,0,78,0],[82,0,79,0],[83,0,80,0],[84,0,81,0],[85,0,82,0],[86,0,83,0],[87,0,84,0],[88,0,85,0],[89,0,86,0],[90,0,87,0],[91,0,88,0],[92,0,89,0],[93,0,90,0],[94,0,91,0],[95,0,92,0],[96,0,93,0],[97,0,94,0],[98,0,95,0],[99,0,96,0],[100,0,97,0],[101,0,98,0],[102,0,99,0],[103,0,100,0],[104,0,101,0],[105,0,102,0],[106,0,103,0],[107,0,104,0],[108,0,105,0],[109,0,106,0],[110,0,107,0],[111,0,108,0],[112,0,109,0],[113,0,110,0],[114,0,111,0],[115,0,112,0],[116,0,113,0],[117,0,114,0],[117,18,114,18,"defaultCenter"],[117,31,114,31],[117,32,114,32,"latitude"],[117,40,114,40],[117,45,114,45,"defaultCenter"],[117,58,114,58],[117,59,114,59,"longitude"],[117,68,114,68],[117,74,114,74,"zoomLevel"],[117,83,114,83],[118,0,115,0],[119,0,116,0],[120,0,117,0],[120,6,117,6,"getBasemapLayer"],[120,21,117,21],[120,22,117,22],[120,23,117,23],[121,0,118,0],[122,0,119,0],[123,0,120,0],[124,0,121,0],[125,0,122,0],[126,0,123,0],[127,0,124,0],[128,0,125,0],[129,0,126,0],[130,0,127,0],[131,0,128,0],[132,0,129,0],[133,0,130,0],[134,0,131,0],[134,6,131,6,"markers"],[134,13,131,13],[134,14,131,14,"map"],[134,17,131,17],[134,18,131,18,"marker"],[134,24,131,24],[134,28,131,28],[135,0,132,0],[135,18,132,18,"marker"],[135,24,132,24],[135,25,132,25,"latitude"],[135,33,132,33],[135,38,132,38,"marker"],[135,44,132,44],[135,45,132,45,"longitude"],[135,54,132,54],[136,0,133,0],[136,34,133,34,"marker"],[136,40,133,40],[136,41,133,41,"color"],[136,46,133,46],[136,53,133,53,"marker"],[136,59,133,59],[136,60,133,60,"icon"],[136,64,133,64],[136,68,133,68],[136,72,133,72],[137,0,134,0],[138,0,135,0],[138,25,135,25,"marker"],[138,31,135,31],[138,32,135,32,"title"],[138,37,135,37],[139,0,136,0],[139,5,136,5],[139,6,136,6],[139,7,136,7,"join"],[139,11,136,11],[139,12,136,12],[139,14,136,14],[139,15,136,15],[140,0,137,0],[141,0,138,0],[142,0,139,0],[142,6,139,6,"userLocation"],[142,18,139,18],[142,21,139,21],[143,0,140,0],[143,18,140,18,"userLocation"],[143,30,140,30],[143,31,140,31,"latitude"],[143,39,140,39],[143,44,140,44,"userLocation"],[143,56,140,56],[143,57,140,57,"longitude"],[143,66,140,66],[144,0,141,0],[145,0,142,0],[146,0,143,0],[147,0,144,0],[147,5,144,5],[147,8,144,8],[147,10,144,10],[148,0,145,0],[149,0,146,0],[150,0,147,0],[150,6,147,6,"showRouting"],[150,17,147,17],[150,21,147,21,"userLocation"],[150,33,147,33],[150,37,147,37,"selectedMarker"],[150,51,147,51],[150,54,147,54],[151,0,148,0],[152,0,149,0],[153,0,150,0],[153,21,150,21,"userLocation"],[153,33,150,33],[153,34,150,34,"latitude"],[153,42,150,42],[153,47,150,47,"userLocation"],[153,59,150,59],[153,60,150,60,"longitude"],[153,69,150,69],[154,0,151,0],[154,21,151,21,"selectedMarker"],[154,35,151,35],[154,36,151,36,"latitude"],[154,44,151,44],[154,49,151,49,"selectedMarker"],[154,63,151,63],[154,64,151,64,"longitude"],[154,73,151,73],[155,0,152,0],[156,0,153,0],[157,0,154,0],[158,0,155,0],[159,0,156,0],[160,0,157,0],[161,0,158,0],[162,0,159,0],[162,5,159,5],[162,8,159,8],[162,10,159,10],[163,0,160,0],[164,0,161,0],[165,0,162,0],[166,0,163,0],[166,3,163,3],[167,4,165,2],[167,24,166,4],[167,28,166,4,"_reactJsxDevRuntime"],[167,47,166,4],[167,48,166,4,"jsxDEV"],[167,54,166,4],[167,56,166,5,"View"],[167,60,166,9],[167,61,166,9,"default"],[167,68,166,9],[168,6,166,10,"style"],[168,11,166,15],[168,13,166,17,"styles"],[168,19,166,23],[168,20,166,24,"container"],[168,29,166,34],[169,6,166,34,"children"],[169,14,166,34],[169,29,167,6],[169,33,167,6,"_reactJsxDevRuntime"],[169,52,167,6],[169,53,167,6,"jsxDEV"],[169,59,167,6],[169,61,167,7,"_reactNativeWebview"],[169,80,167,14],[169,81,167,14,"WebView"],[169,88,167,14],[170,8,168,8,"ref"],[170,11,168,11],[170,13,168,13,"webViewRef"],[170,23,168,24],[171,8,169,8,"source"],[171,14,169,14],[171,16,169,16],[172,10,169,18,"html"],[172,14,169,22],[172,16,169,24,"htmlContent"],[173,8,169,36],[173,9,169,38],[174,8,170,8,"style"],[174,13,170,13],[174,15,170,15,"styles"],[174,21,170,21],[174,22,170,22,"webview"],[174,29,170,30],[175,8,171,8,"javaScriptEnabled"],[175,25,171,25],[175,27,171,27],[175,31,171,32],[176,8,172,8,"domStorageEnabled"],[176,25,172,25],[176,27,172,27],[177,6,172,32],[178,8,172,32,"fileName"],[178,16,172,32],[178,18,172,32,"_jsxFileName"],[178,30,172,32],[179,8,172,32,"lineNumber"],[179,18,172,32],[180,8,172,32,"columnNumber"],[180,20,172,32],[181,6,172,32],[181,13,173,7],[182,4,173,8],[183,6,173,8,"fileName"],[183,14,173,8],[183,16,173,8,"_jsxFileName"],[183,28,173,8],[184,6,173,8,"lineNumber"],[184,16,173,8],[185,6,173,8,"columnNumber"],[185,18,173,8],[186,4,173,8],[186,11,174,10],[186,12,174,11],[187,2,176,0],[188,2,178,0],[188,8,178,6,"styles"],[188,14,178,12],[188,17,178,15,"StyleSheet"],[188,27,178,25],[188,28,178,25,"default"],[188,35,178,25],[188,36,178,26,"create"],[188,42,178,32],[188,43,178,33],[189,4,179,2,"container"],[189,13,179,11],[189,15,179,13],[190,6,180,4,"flex"],[190,10,180,8],[190,12,180,10],[191,4,181,2],[191,5,181,3],[192,4,182,2,"webview"],[192,11,182,9],[192,13,182,11],[193,6,183,4,"flex"],[193,10,183,8],[193,12,183,10],[194,4,184,2],[195,2,185,0],[195,3,185,1],[195,4,185,2],[196,0,185,3],[196,3]],"functionMap":{"names":["<global>","LeafletMap","getBasemapLayer","markers.map$argument_0"],"mappings":"AAA;eCwB;0BCkB;GD0B;kBE8D;KFK;CDwC"},"hasCjsExports":false},"type":"js/module"}]}