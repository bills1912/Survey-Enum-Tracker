{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":38,"index":38}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-webview","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":88},"end":{"line":3,"column":47,"index":135}}],"key":"YJc7i/oIweCWhKjzjfYLEcLeUJA=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/components/LeafletMap.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return LeafletMap;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[2], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebview = require(_dependencyMap[3], \"react-native-webview\");\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  function LeafletMap({\n    markers,\n    center,\n    zoom = 13,\n    selectedMarker,\n    userLocation,\n    showRouting = false\n  }) {\n    const webViewRef = (0, _react.useRef)(null);\n    const defaultCenter = selectedMarker || center || (markers.length > 0 ? {\n      latitude: markers[0].latitude,\n      longitude: markers[0].longitude\n    } : {\n      latitude: -6.2088,\n      longitude: 106.8456\n    });\n    const zoomLevel = selectedMarker ? 16 : zoom;\n    const htmlContent = `\n<!DOCTYPE html>\n<html>\n<head>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\" />\n  <link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.css\" />\n  <link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css\" />\n  <script src=\"https://unpkg.com/leaflet@1.9.4/dist/leaflet.js\"></script>\n  <script src=\"https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js\"></script>\n  <style>\n    body, html {\n      margin: 0;\n      padding: 0;\n      height: 100%;\n      width: 100%;\n    }\n    #map {\n      height: 100%;\n      width: 100%;\n    }\n    .custom-marker {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 40px;\n      height: 40px;\n      border-radius: 50%;\n      border: 3px solid white;\n      box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n      font-size: 24px;\n    }\n    .leaflet-routing-container {\n      display: none;\n    }\n  </style>\n</head>\n<body>\n  <div id=\"map\"></div>\n  <script>\n    // Initialize map\n    var map = L.map('map', {\n      zoomControl: true,\n      attributionControl: true\n    }).setView([${defaultCenter.latitude}, ${defaultCenter.longitude}], ${zoomLevel});\n\n    // Add OpenStreetMap tiles\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '¬© OpenStreetMap contributors',\n      maxZoom: 19\n    }).addTo(map);\n\n    // Custom icon function\n    function createCustomIcon(color, icon) {\n      return L.divIcon({\n        html: '<div class=\"custom-marker\" style=\"background-color: ' + color + ';\">' + icon + '</div>',\n        className: '',\n        iconSize: [40, 40],\n        iconAnchor: [20, 20],\n        popupAnchor: [0, -20]\n      });\n    }\n\n    // Add user location if provided\n    ${userLocation ? `\n    var userIcon = createCustomIcon('#2196F3', 'üì±');\n    var userMarker = L.marker([${userLocation.latitude}, ${userLocation.longitude}], { icon: userIcon })\n      .addTo(map)\n      .bindPopup('<b>Your Location</b><br/>Lat: ${userLocation.latitude.toFixed(6)}<br/>Lng: ${userLocation.longitude.toFixed(6)}');\n    ` : ''}\n\n    // Add markers\n    var markers = ${JSON.stringify(markers)};\n    var bounds = [];\n    ${userLocation ? `bounds.push([${userLocation.latitude}, ${userLocation.longitude}]);` : ''}\n\n    markers.forEach(function(marker) {\n      var icon = createCustomIcon(marker.color, marker.icon || 'üìç');\n      var m = L.marker([marker.latitude, marker.longitude], { icon: icon })\n        .addTo(map)\n        .bindPopup('<b>' + marker.title + '</b><br/>Lat: ' + marker.latitude.toFixed(6) + '<br/>Lng: ' + marker.longitude.toFixed(6));\n      \n      bounds.push([marker.latitude, marker.longitude]);\n    });\n\n    // Add routing if requested\n    ${showRouting && userLocation && selectedMarker ? `\n    L.Routing.control({\n      waypoints: [\n        L.latLng(${userLocation.latitude}, ${userLocation.longitude}),\n        L.latLng(${selectedMarker.latitude}, ${selectedMarker.longitude})\n      ],\n      routeWhileDragging: false,\n      show: false,\n      addWaypoints: false,\n      lineOptions: {\n        styles: [{color: '#2196F3', opacity: 0.8, weight: 5}]\n      }\n    }).addTo(map);\n    ` : ''}\n\n    // Fit map to show all markers\n    if (bounds.length > 0) {\n      ${selectedMarker ? `map.setView([${selectedMarker.latitude}, ${selectedMarker.longitude}], ${zoomLevel});` : `map.fitBounds(bounds, { padding: [50, 50], maxZoom: 15 });`}\n    }\n  </script>\n</body>\n</html>\n  `;\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n      style: styles.container,\n      children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNativeWebview.WebView, {\n        ref: webViewRef,\n        source: {\n          html: htmlContent\n        },\n        style: styles.webview,\n        javaScriptEnabled: true,\n        domStorageEnabled: true,\n        geolocationEnabled: true,\n        onError: syntheticEvent => {\n          const {\n            nativeEvent\n          } = syntheticEvent;\n          console.warn('WebView error: ', nativeEvent);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 5\n    }, this);\n  }\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1\n    },\n    webview: {\n      flex: 1\n    }\n  });\n});","lineCount":187,"map":[[13,2,23,15,"Object"],[13,8,23,15],[13,9,23,15,"defineProperty"],[13,23,23,15],[13,24,23,15,"exports"],[13,31,23,15],[14,4,23,15,"enumerable"],[14,14,23,15],[15,4,23,15,"get"],[15,7,23,15],[15,18,23,15,"get"],[15,19,23,15],[16,6,23,15],[16,13,23,15,"LeafletMap"],[16,23,23,15],[17,4,23,15],[18,2,23,15],[19,2,1,0],[19,6,1,0,"_react"],[19,12,1,0],[19,15,1,0,"require"],[19,22,1,0],[19,23,1,0,"_dependencyMap"],[19,37,1,0],[20,2,1,38],[20,6,1,38,"_reactNativeWebDistExportsView"],[20,36,1,38],[20,39,1,38,"require"],[20,46,1,38],[20,47,1,38,"_dependencyMap"],[20,61,1,38],[21,2,1,38],[21,6,1,38,"View"],[21,10,1,38],[21,13,1,38,"_interopDefault"],[21,28,1,38],[21,29,1,38,"_reactNativeWebDistExportsView"],[21,59,1,38],[22,2,1,38],[22,6,1,38,"_reactNativeWebDistExportsStyleSheet"],[22,42,1,38],[22,45,1,38,"require"],[22,52,1,38],[22,53,1,38,"_dependencyMap"],[22,67,1,38],[23,2,1,38],[23,6,1,38,"StyleSheet"],[23,16,1,38],[23,19,1,38,"_interopDefault"],[23,34,1,38],[23,35,1,38,"_reactNativeWebDistExportsStyleSheet"],[23,71,1,38],[24,2,3,0],[24,6,3,0,"_reactNativeWebview"],[24,25,3,0],[24,28,3,0,"require"],[24,35,3,0],[24,36,3,0,"_dependencyMap"],[24,50,3,0],[25,2,3,47],[25,6,3,47,"_reactJsxDevRuntime"],[25,25,3,47],[25,28,3,47,"require"],[25,35,3,47],[25,36,3,47,"_dependencyMap"],[25,50,3,47],[26,2,23,15],[26,11,23,24,"LeafletMap"],[26,21,23,34,"LeafletMap"],[26,22,23,35],[27,4,24,2,"markers"],[27,11,24,9],[28,4,25,2,"center"],[28,10,25,8],[29,4,26,2,"zoom"],[29,8,26,6],[29,11,26,9],[29,13,26,11],[30,4,27,2,"selectedMarker"],[30,18,27,16],[31,4,28,2,"userLocation"],[31,16,28,14],[32,4,29,2,"showRouting"],[32,15,29,13],[32,18,29,16],[33,2,30,17],[33,3,30,18],[33,5,30,20],[34,4,31,2],[34,10,31,8,"webViewRef"],[34,20,31,18],[34,23,31,21],[34,27,31,21,"useRef"],[34,33,31,27],[34,34,31,27,"useRef"],[34,40,31,27],[34,42,31,37],[34,46,31,41],[34,47,31,42],[35,4,33,2],[35,10,33,8,"defaultCenter"],[35,23,33,21],[35,26,33,24,"selectedMarker"],[35,40,33,38],[35,44,33,42,"center"],[35,50,33,48],[35,55,33,53,"markers"],[35,62,33,60],[35,63,33,61,"length"],[35,69,33,67],[35,72,33,70],[35,73,33,71],[35,76,34,6],[36,6,34,8,"latitude"],[36,14,34,16],[36,16,34,18,"markers"],[36,23,34,25],[36,24,34,26],[36,25,34,27],[36,26,34,28],[36,27,34,29,"latitude"],[36,35,34,37],[37,6,34,39,"longitude"],[37,15,34,48],[37,17,34,50,"markers"],[37,24,34,57],[37,25,34,58],[37,26,34,59],[37,27,34,60],[37,28,34,61,"longitude"],[38,4,34,71],[38,5,34,72],[38,8,35,6],[39,6,35,8,"latitude"],[39,14,35,16],[39,16,35,18],[39,17,35,19],[39,23,35,25],[40,6,35,27,"longitude"],[40,15,35,36],[40,17,35,38],[41,4,35,47],[41,5,35,48],[41,6,35,49],[42,4,37,2],[42,10,37,8,"zoomLevel"],[42,19,37,17],[42,22,37,20,"selectedMarker"],[42,36,37,34],[42,39,37,37],[42,41,37,39],[42,44,37,42,"zoom"],[42,48,37,46],[43,4,39,2],[43,10,39,8,"htmlContent"],[43,21,39,19],[43,24,39,22],[44,0,40,0],[45,0,41,0],[46,0,42,0],[47,0,43,0],[48,0,44,0],[49,0,45,0],[50,0,46,0],[51,0,47,0],[52,0,48,0],[53,0,49,0],[54,0,50,0],[55,0,51,0],[56,0,52,0],[57,0,53,0],[58,0,54,0],[59,0,55,0],[60,0,56,0],[61,0,57,0],[62,0,58,0],[63,0,59,0],[64,0,60,0],[65,0,61,0],[66,0,62,0],[67,0,63,0],[68,0,64,0],[69,0,65,0],[70,0,66,0],[71,0,67,0],[72,0,68,0],[73,0,69,0],[74,0,70,0],[75,0,71,0],[76,0,72,0],[77,0,73,0],[78,0,74,0],[79,0,75,0],[80,0,76,0],[81,0,77,0],[82,0,78,0],[83,0,79,0],[84,0,80,0],[85,0,81,0],[86,0,82,0],[86,18,82,18,"defaultCenter"],[86,31,82,31],[86,32,82,32,"latitude"],[86,40,82,40],[86,45,82,45,"defaultCenter"],[86,58,82,58],[86,59,82,59,"longitude"],[86,68,82,68],[86,74,82,74,"zoomLevel"],[86,83,82,83],[87,0,83,0],[88,0,84,0],[89,0,85,0],[90,0,86,0],[91,0,87,0],[92,0,88,0],[93,0,89,0],[94,0,90,0],[95,0,91,0],[96,0,92,0],[97,0,93,0],[98,0,94,0],[99,0,95,0],[100,0,96,0],[101,0,97,0],[102,0,98,0],[103,0,99,0],[104,0,100,0],[105,0,101,0],[106,0,102,0],[106,6,102,6,"userLocation"],[106,18,102,18],[106,21,102,21],[107,0,103,0],[108,0,104,0],[108,33,104,33,"userLocation"],[108,45,104,45],[108,46,104,46,"latitude"],[108,54,104,54],[108,59,104,59,"userLocation"],[108,71,104,71],[108,72,104,72,"longitude"],[108,81,104,81],[109,0,105,0],[110,0,106,0],[110,50,106,50,"userLocation"],[110,62,106,62],[110,63,106,63,"latitude"],[110,71,106,71],[110,72,106,72,"toFixed"],[110,79,106,79],[110,80,106,80],[110,81,106,81],[110,82,106,82],[110,95,106,95,"userLocation"],[110,107,106,107],[110,108,106,108,"longitude"],[110,117,106,117],[110,118,106,118,"toFixed"],[110,125,106,125],[110,126,106,126],[110,127,106,127],[110,128,106,128],[111,0,107,0],[111,5,107,5],[111,8,107,8],[111,10,107,10],[112,0,108,0],[113,0,109,0],[114,0,110,0],[114,20,110,20,"JSON"],[114,24,110,24],[114,25,110,25,"stringify"],[114,34,110,34],[114,35,110,35,"markers"],[114,42,110,42],[114,43,110,43],[115,0,111,0],[116,0,112,0],[116,6,112,6,"userLocation"],[116,18,112,18],[116,21,112,21],[116,37,112,37,"userLocation"],[116,49,112,49],[116,50,112,50,"latitude"],[116,58,112,58],[116,63,112,63,"userLocation"],[116,75,112,75],[116,76,112,76,"longitude"],[116,85,112,85],[116,90,112,90],[116,93,112,93],[116,95,112,95],[117,0,113,0],[118,0,114,0],[119,0,115,0],[120,0,116,0],[121,0,117,0],[122,0,118,0],[123,0,119,0],[124,0,120,0],[125,0,121,0],[126,0,122,0],[127,0,123,0],[128,0,124,0],[128,6,124,6,"showRouting"],[128,17,124,17],[128,21,124,21,"userLocation"],[128,33,124,33],[128,37,124,37,"selectedMarker"],[128,51,124,51],[128,54,124,54],[129,0,125,0],[130,0,126,0],[131,0,127,0],[131,19,127,19,"userLocation"],[131,31,127,31],[131,32,127,32,"latitude"],[131,40,127,40],[131,45,127,45,"userLocation"],[131,57,127,57],[131,58,127,58,"longitude"],[131,67,127,67],[132,0,128,0],[132,19,128,19,"selectedMarker"],[132,33,128,33],[132,34,128,34,"latitude"],[132,42,128,42],[132,47,128,47,"selectedMarker"],[132,61,128,61],[132,62,128,62,"longitude"],[132,71,128,71],[133,0,129,0],[134,0,130,0],[135,0,131,0],[136,0,132,0],[137,0,133,0],[138,0,134,0],[139,0,135,0],[140,0,136,0],[141,0,137,0],[141,5,137,5],[141,8,137,8],[141,10,137,10],[142,0,138,0],[143,0,139,0],[144,0,140,0],[145,0,141,0],[145,8,141,8,"selectedMarker"],[145,22,141,22],[145,25,142,8],[145,41,142,24,"selectedMarker"],[145,55,142,38],[145,56,142,39,"latitude"],[145,64,142,47],[145,69,142,52,"selectedMarker"],[145,83,142,66],[145,84,142,67,"longitude"],[145,93,142,76],[145,99,142,82,"zoomLevel"],[145,108,142,91],[145,112,142,95],[145,115,143,8],[145,175,143,68],[146,0,144,0],[147,0,145,0],[148,0,146,0],[149,0,147,0],[150,0,148,0],[150,3,149,3],[151,4,151,2],[151,24,152,4],[151,28,152,4,"_reactJsxDevRuntime"],[151,47,152,4],[151,48,152,4,"jsxDEV"],[151,54,152,4],[151,56,152,5,"View"],[151,60,152,9],[151,61,152,9,"default"],[151,68,152,9],[152,6,152,10,"style"],[152,11,152,15],[152,13,152,17,"styles"],[152,19,152,23],[152,20,152,24,"container"],[152,29,152,34],[153,6,152,34,"children"],[153,14,152,34],[153,29,153,6],[153,33,153,6,"_reactJsxDevRuntime"],[153,52,153,6],[153,53,153,6,"jsxDEV"],[153,59,153,6],[153,61,153,7,"_reactNativeWebview"],[153,80,153,14],[153,81,153,14,"WebView"],[153,88,153,14],[154,8,154,8,"ref"],[154,11,154,11],[154,13,154,13,"webViewRef"],[154,23,154,24],[155,8,155,8,"source"],[155,14,155,14],[155,16,155,16],[156,10,155,18,"html"],[156,14,155,22],[156,16,155,24,"htmlContent"],[157,8,155,36],[157,9,155,38],[158,8,156,8,"style"],[158,13,156,13],[158,15,156,15,"styles"],[158,21,156,21],[158,22,156,22,"webview"],[158,29,156,30],[159,8,157,8,"javaScriptEnabled"],[159,25,157,25],[159,27,157,27],[159,31,157,32],[160,8,158,8,"domStorageEnabled"],[160,25,158,25],[160,27,158,27],[160,31,158,32],[161,8,159,8,"geolocationEnabled"],[161,26,159,26],[161,28,159,28],[161,32,159,33],[162,8,160,8,"onError"],[162,15,160,15],[162,17,160,18,"syntheticEvent"],[162,31,160,32],[162,35,160,37],[163,10,161,10],[163,16,161,16],[164,12,161,18,"nativeEvent"],[165,10,161,30],[165,11,161,31],[165,14,161,34,"syntheticEvent"],[165,28,161,48],[166,10,162,10,"console"],[166,17,162,17],[166,18,162,18,"warn"],[166,22,162,22],[166,23,162,23],[166,40,162,40],[166,42,162,42,"nativeEvent"],[166,53,162,53],[166,54,162,54],[167,8,163,8],[168,6,163,10],[169,8,163,10,"fileName"],[169,16,163,10],[169,18,163,10,"_jsxFileName"],[169,30,163,10],[170,8,163,10,"lineNumber"],[170,18,163,10],[171,8,163,10,"columnNumber"],[171,20,163,10],[172,6,163,10],[172,13,164,7],[173,4,164,8],[174,6,164,8,"fileName"],[174,14,164,8],[174,16,164,8,"_jsxFileName"],[174,28,164,8],[175,6,164,8,"lineNumber"],[175,16,164,8],[176,6,164,8,"columnNumber"],[176,18,164,8],[177,4,164,8],[177,11,165,10],[177,12,165,11],[178,2,167,0],[179,2,169,0],[179,8,169,6,"styles"],[179,14,169,12],[179,17,169,15,"StyleSheet"],[179,27,169,25],[179,28,169,25,"default"],[179,35,169,25],[179,36,169,26,"create"],[179,42,169,32],[179,43,169,33],[180,4,170,2,"container"],[180,13,170,11],[180,15,170,13],[181,6,171,4,"flex"],[181,10,171,8],[181,12,171,10],[182,4,172,2],[182,5,172,3],[183,4,173,2,"webview"],[183,11,173,9],[183,13,173,11],[184,6,174,4,"flex"],[184,10,174,8],[184,12,174,10],[185,4,175,2],[186,2,176,0],[186,3,176,1],[186,4,176,2],[187,0,176,3],[187,3]],"functionMap":{"names":["<global>","LeafletMap","WebView.props.onError"],"mappings":"AAA;eCsB;iBCyI;SDG;CDI"},"hasCjsExports":false},"type":"js/module"}]}