{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":82,"index":82}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":83},"end":{"line":2,"column":42,"index":125}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"../services/storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":126},"end":{"line":3,"column":53,"index":179}}],"key":"zqGJUMQQZwIry90rqgd1gunX3aI=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/contexts/AuthContext.tsx\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _servicesApi = require(_dependencyMap[3], \"../services/api\");\n  var _servicesStorage = require(_dependencyMap[4], \"../services/storage\");\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  var AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  var AuthProvider = function AuthProvider(_ref) {\n    _s();\n    var children = _ref.children;\n    var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n    var _useState3 = (0, _react.useState)(true),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n    (0, _react.useEffect)(function () {\n      checkAuth();\n    }, []);\n    var checkAuth = /*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var token = yield _servicesStorage.storageService.getToken();\n          var savedUser = yield _servicesStorage.storageService.getUser();\n          if (token && savedUser) {\n            setUser(savedUser);\n          }\n        } catch (error) {\n          console.error('Auth check error:', error);\n        } finally {\n          setLoading(false);\n        }\n      });\n      return function checkAuth() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    var login = /*#__PURE__*/function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* (email, password) {\n        try {\n          var response = yield _servicesApi.authAPI.login(email, password);\n          yield _servicesStorage.storageService.saveAuth(response.access_token, response.user);\n          setUser(response.user);\n        } catch (error) {\n          console.error('Login error:', error);\n          throw error;\n        }\n      });\n      return function login(_x, _x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    var logout = /*#__PURE__*/function () {\n      var _ref4 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          yield _servicesStorage.storageService.clearAuth();\n          setUser(null);\n        } catch (error) {\n          console.error('Logout error:', error);\n        }\n      });\n      return function logout() {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user: user,\n        loading: loading,\n        login: login,\n        logout: logout,\n        isAuthenticated: !!user\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }, _this);\n  };\n  _s(AuthProvider, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n  _c = AuthProvider;\n  var useAuth = function useAuth() {\n    _s2();\n    var context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":125,"map":[[16,2,16,0,"Object"],[16,8,16,0],[16,9,16,0,"defineProperty"],[16,23,16,0],[16,24,16,0,"exports"],[16,31,16,0],[17,4,16,0,"enumerable"],[17,14,16,0],[18,4,16,0,"get"],[18,7,16,0],[18,18,16,0,"get"],[18,19,16,0],[19,6,16,0],[19,13,16,0,"AuthProvider"],[19,25,16,0],[20,4,16,0],[21,2,16,0],[22,2,74,0,"Object"],[22,8,74,0],[22,9,74,0,"defineProperty"],[22,23,74,0],[22,24,74,0,"exports"],[22,31,74,0],[23,4,74,0,"enumerable"],[23,14,74,0],[24,4,74,0,"get"],[24,7,74,0],[24,18,74,0,"get"],[24,19,74,0],[25,6,74,0],[25,13,74,0,"useAuth"],[25,20,74,0],[26,4,74,0],[27,2,74,0],[28,2,80,2],[28,6,80,2,"_babelRuntimeHelpersAsyncToGenerator"],[28,42,80,2],[28,45,80,2,"require"],[28,52,80,2],[28,53,80,2,"_dependencyMap"],[28,67,80,2],[29,2,80,2],[29,6,80,2,"_asyncToGenerator"],[29,23,80,2],[29,26,80,2,"_interopDefault"],[29,41,80,2],[29,42,80,2,"_babelRuntimeHelpersAsyncToGenerator"],[29,78,80,2],[30,2,80,2],[30,6,80,2,"_babelRuntimeHelpersSlicedToArray"],[30,39,80,2],[30,42,80,2,"require"],[30,49,80,2],[30,50,80,2,"_dependencyMap"],[30,64,80,2],[31,2,80,2],[31,6,80,2,"_slicedToArray"],[31,20,80,2],[31,23,80,2,"_interopDefault"],[31,38,80,2],[31,39,80,2,"_babelRuntimeHelpersSlicedToArray"],[31,72,80,2],[32,2,1,0],[32,6,1,0,"_react"],[32,12,1,0],[32,15,1,0,"require"],[32,22,1,0],[32,23,1,0,"_dependencyMap"],[32,37,1,0],[33,2,2,0],[33,6,2,0,"_servicesApi"],[33,18,2,0],[33,21,2,0,"require"],[33,28,2,0],[33,29,2,0,"_dependencyMap"],[33,43,2,0],[34,2,3,0],[34,6,3,0,"_servicesStorage"],[34,22,3,0],[34,25,3,0,"require"],[34,32,3,0],[34,33,3,0,"_dependencyMap"],[34,47,3,0],[35,2,3,53],[35,6,3,53,"_reactJsxDevRuntime"],[35,25,3,53],[35,28,3,53,"require"],[35,35,3,53],[35,36,3,53,"_dependencyMap"],[35,50,3,53],[36,2,14,0],[36,6,14,6,"AuthContext"],[36,17,14,17],[36,33,14,20],[36,37,14,20,"createContext"],[36,43,14,33],[36,44,14,33,"createContext"],[36,57,14,33],[36,59,14,63,"undefined"],[36,68,14,72],[36,69,14,73],[37,2,16,7],[37,6,16,13,"AuthProvider"],[37,18,16,25],[37,21,16,28],[37,30,16,13,"AuthProvider"],[37,42,16,25,"AuthProvider"],[37,43,16,25,"_ref"],[37,47,16,25],[37,49,16,71],[38,4,16,71,"_s"],[38,6,16,71],[39,4,16,71],[39,8,16,31,"children"],[39,16,16,39],[39,19,16,39,"_ref"],[39,23,16,39],[39,24,16,31,"children"],[39,32,16,39],[40,4,17,2],[40,8,17,2,"_useState"],[40,17,17,2],[40,20,17,26],[40,24,17,26,"useState"],[40,30,17,34],[40,31,17,34,"useState"],[40,39,17,34],[40,41,17,48],[40,45,17,52],[40,46,17,53],[41,6,17,53,"_useState2"],[41,16,17,53],[41,23,17,53,"_slicedToArray"],[41,37,17,53],[41,38,17,53,"default"],[41,45,17,53],[41,47,17,53,"_useState"],[41,56,17,53],[42,6,17,9,"user"],[42,10,17,13],[42,13,17,13,"_useState2"],[42,23,17,13],[43,6,17,15,"setUser"],[43,13,17,22],[43,16,17,22,"_useState2"],[43,26,17,22],[44,4,18,2],[44,8,18,2,"_useState3"],[44,18,18,2],[44,21,18,32],[44,25,18,32,"useState"],[44,31,18,40],[44,32,18,40,"useState"],[44,40,18,40],[44,42,18,41],[44,46,18,45],[44,47,18,46],[45,6,18,46,"_useState4"],[45,16,18,46],[45,23,18,46,"_slicedToArray"],[45,37,18,46],[45,38,18,46,"default"],[45,45,18,46],[45,47,18,46,"_useState3"],[45,57,18,46],[46,6,18,9,"loading"],[46,13,18,16],[46,16,18,16,"_useState4"],[46,26,18,16],[47,6,18,18,"setLoading"],[47,16,18,28],[47,19,18,28,"_useState4"],[47,29,18,28],[48,4,20,2],[48,8,20,2,"useEffect"],[48,14,20,11],[48,15,20,11,"useEffect"],[48,24,20,11],[48,26,20,12],[48,38,20,18],[49,6,21,4,"checkAuth"],[49,15,21,13],[49,16,21,14],[49,17,21,15],[50,4,22,2],[50,5,22,3],[50,7,22,5],[50,9,22,7],[50,10,22,8],[51,4,24,2],[51,8,24,8,"checkAuth"],[51,17,24,17],[52,6,24,17],[52,10,24,17,"_ref2"],[52,15,24,17],[52,22,24,17,"_asyncToGenerator"],[52,39,24,17],[52,40,24,17,"default"],[52,47,24,17],[52,49,24,20],[52,62,24,32],[53,8,25,4],[53,12,25,8],[54,10,26,6],[54,14,26,12,"token"],[54,19,26,17],[54,28,26,26,"storageService"],[54,44,26,40],[54,45,26,40,"storageService"],[54,59,26,40],[54,60,26,41,"getToken"],[54,68,26,49],[54,69,26,50],[54,70,26,51],[55,10,27,6],[55,14,27,12,"savedUser"],[55,23,27,21],[55,32,27,30,"storageService"],[55,48,27,44],[55,49,27,44,"storageService"],[55,63,27,44],[55,64,27,45,"getUser"],[55,71,27,52],[55,72,27,53],[55,73,27,54],[56,10,29,6],[56,14,29,10,"token"],[56,19,29,15],[56,23,29,19,"savedUser"],[56,32,29,28],[56,34,29,30],[57,12,30,8,"setUser"],[57,19,30,15],[57,20,30,16,"savedUser"],[57,29,30,25],[57,30,30,26],[58,10,31,6],[59,8,32,4],[59,9,32,5],[59,10,32,6],[59,17,32,13,"error"],[59,22,32,18],[59,24,32,20],[60,10,33,6,"console"],[60,17,33,13],[60,18,33,14,"error"],[60,23,33,19],[60,24,33,20],[60,43,33,39],[60,45,33,41,"error"],[60,50,33,46],[60,51,33,47],[61,8,34,4],[61,9,34,5],[61,18,34,14],[62,10,35,6,"setLoading"],[62,20,35,16],[62,21,35,17],[62,26,35,22],[62,27,35,23],[63,8,36,4],[64,6,37,2],[64,7,37,3],[65,6,37,3],[65,22,24,8,"checkAuth"],[65,31,24,17,"checkAuth"],[65,32,24,17],[66,8,24,17],[66,15,24,17,"_ref2"],[66,20,24,17],[66,21,24,17,"apply"],[66,26,24,17],[66,33,24,17,"arguments"],[66,42,24,17],[67,6,24,17],[68,4,24,17],[68,7,37,3],[69,4,39,2],[69,8,39,8,"login"],[69,13,39,13],[70,6,39,13],[70,10,39,13,"_ref3"],[70,15,39,13],[70,22,39,13,"_asyncToGenerator"],[70,39,39,13],[70,40,39,13,"default"],[70,47,39,13],[70,49,39,16],[70,60,39,23,"email"],[70,65,39,36],[70,67,39,38,"password"],[70,75,39,54],[70,77,39,59],[71,8,40,4],[71,12,40,8],[72,10,41,6],[72,14,41,12,"response"],[72,22,41,20],[72,31,41,29,"authAPI"],[72,43,41,36],[72,44,41,36,"authAPI"],[72,51,41,36],[72,52,41,37,"login"],[72,57,41,42],[72,58,41,43,"email"],[72,63,41,48],[72,65,41,50,"password"],[72,73,41,58],[72,74,41,59],[73,10,42,6],[73,16,42,12,"storageService"],[73,32,42,26],[73,33,42,26,"storageService"],[73,47,42,26],[73,48,42,27,"saveAuth"],[73,56,42,35],[73,57,42,36,"response"],[73,65,42,44],[73,66,42,45,"access_token"],[73,78,42,57],[73,80,42,59,"response"],[73,88,42,67],[73,89,42,68,"user"],[73,93,42,72],[73,94,42,73],[74,10,43,6,"setUser"],[74,17,43,13],[74,18,43,14,"response"],[74,26,43,22],[74,27,43,23,"user"],[74,31,43,27],[74,32,43,28],[75,8,44,4],[75,9,44,5],[75,10,44,6],[75,17,44,13,"error"],[75,22,44,18],[75,24,44,20],[76,10,45,6,"console"],[76,17,45,13],[76,18,45,14,"error"],[76,23,45,19],[76,24,45,20],[76,38,45,34],[76,40,45,36,"error"],[76,45,45,41],[76,46,45,42],[77,10,46,6],[77,16,46,12,"error"],[77,21,46,17],[78,8,47,4],[79,6,48,2],[79,7,48,3],[80,6,48,3],[80,22,39,8,"login"],[80,27,39,13,"login"],[80,28,39,13,"_x"],[80,30,39,13],[80,32,39,13,"_x2"],[80,35,39,13],[81,8,39,13],[81,15,39,13,"_ref3"],[81,20,39,13],[81,21,39,13,"apply"],[81,26,39,13],[81,33,39,13,"arguments"],[81,42,39,13],[82,6,39,13],[83,4,39,13],[83,7,48,3],[84,4,50,2],[84,8,50,8,"logout"],[84,14,50,14],[85,6,50,14],[85,10,50,14,"_ref4"],[85,15,50,14],[85,22,50,14,"_asyncToGenerator"],[85,39,50,14],[85,40,50,14,"default"],[85,47,50,14],[85,49,50,17],[85,62,50,29],[86,8,51,4],[86,12,51,8],[87,10,52,6],[87,16,52,12,"storageService"],[87,32,52,26],[87,33,52,26,"storageService"],[87,47,52,26],[87,48,52,27,"clearAuth"],[87,57,52,36],[87,58,52,37],[87,59,52,38],[88,10,53,6,"setUser"],[88,17,53,13],[88,18,53,14],[88,22,53,18],[88,23,53,19],[89,8,54,4],[89,9,54,5],[89,10,54,6],[89,17,54,13,"error"],[89,22,54,18],[89,24,54,20],[90,10,55,6,"console"],[90,17,55,13],[90,18,55,14,"error"],[90,23,55,19],[90,24,55,20],[90,39,55,35],[90,41,55,37,"error"],[90,46,55,42],[90,47,55,43],[91,8,56,4],[92,6,57,2],[92,7,57,3],[93,6,57,3],[93,22,50,8,"logout"],[93,28,50,14,"logout"],[93,29,50,14],[94,8,50,14],[94,15,50,14,"_ref4"],[94,20,50,14],[94,21,50,14,"apply"],[94,26,50,14],[94,33,50,14,"arguments"],[94,42,50,14],[95,6,50,14],[96,4,50,14],[96,7,57,3],[97,4,59,2],[97,24,60,4],[97,28,60,4,"_reactJsxDevRuntime"],[97,47,60,4],[97,48,60,4,"jsxDEV"],[97,54,60,4],[97,56,60,5,"AuthContext"],[97,67,60,16],[97,68,60,17,"Provider"],[97,76,60,25],[98,6,61,6,"value"],[98,11,61,11],[98,13,61,13],[99,8,62,8,"user"],[99,12,62,12],[99,14,62,8,"user"],[99,18,62,12],[100,8,63,8,"loading"],[100,15,63,15],[100,17,63,8,"loading"],[100,24,63,15],[101,8,64,8,"login"],[101,13,64,13],[101,15,64,8,"login"],[101,20,64,13],[102,8,65,8,"logout"],[102,14,65,14],[102,16,65,8,"logout"],[102,22,65,14],[103,8,66,8,"isAuthenticated"],[103,23,66,23],[103,25,66,25],[103,26,66,26],[103,27,66,27,"user"],[104,6,67,6],[104,7,67,8],[105,6,67,8,"children"],[105,14,67,8],[105,16,69,7,"children"],[106,4,69,15],[107,6,69,15,"fileName"],[107,14,69,15],[107,16,69,15,"_jsxFileName"],[107,28,69,15],[108,6,69,15,"lineNumber"],[108,16,69,15],[109,6,69,15,"columnNumber"],[109,18,69,15],[110,4,69,15],[110,7,69,15,"_this"],[110,12,70,26],[110,13,70,27],[111,2,72,0],[111,3,72,1],[112,2,72,2,"_s"],[112,4,72,2],[112,5,16,13,"AuthProvider"],[112,17,16,25],[113,2,16,25,"_c"],[113,4,16,25],[113,7,16,13,"AuthProvider"],[113,19,16,25],[114,2,74,7],[114,6,74,13,"useAuth"],[114,13,74,20],[114,16,74,23],[114,25,74,13,"useAuth"],[114,32,74,20,"useAuth"],[114,33,74,20],[114,35,74,29],[115,4,74,29,"_s2"],[115,7,74,29],[116,4,75,2],[116,8,75,8,"context"],[116,15,75,15],[116,18,75,18],[116,22,75,18,"useContext"],[116,28,75,28],[116,29,75,28,"useContext"],[116,39,75,28],[116,41,75,29,"AuthContext"],[116,52,75,40],[116,53,75,41],[117,4,76,2],[117,8,76,6,"context"],[117,15,76,13],[117,20,76,18,"undefined"],[117,29,76,27],[117,31,76,29],[118,6,77,4],[118,12,77,10],[118,16,77,14,"Error"],[118,21,77,19],[118,22,77,20],[118,67,77,65],[118,68,77,66],[119,4,78,2],[120,4,79,2],[120,11,79,9,"context"],[120,18,79,16],[121,2,80,0],[121,3,80,1],[122,2,80,2,"_s2"],[122,5,80,2],[122,6,74,13,"useAuth"],[122,13,74,20],[123,2,74,20],[123,6,74,20,"_c"],[123,8,74,20],[124,2,74,20,"$RefreshReg$"],[124,14,74,20],[124,15,74,20,"_c"],[124,17,74,20],[125,0,74,20],[125,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","logout","useAuth"],"mappings":"AAA;4BCe;YCI;GDE;oBEE;GFa;gBGE;GHS;iBIE;GJO;CDe;uBME;CNM"},"hasCjsExports":false},"type":"js/module"}]}