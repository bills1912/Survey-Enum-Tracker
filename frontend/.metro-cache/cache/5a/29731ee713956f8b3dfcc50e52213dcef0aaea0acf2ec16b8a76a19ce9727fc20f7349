{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":42,"index":132}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"../services/storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":133},"end":{"line":3,"column":53,"index":186}}],"key":"zqGJUMQQZwIry90rqgd1gunX3aI=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesApi = require(_dependencyMap[1], \"../services/api\");\n  var _servicesStorage = require(_dependencyMap[2], \"../services/storage\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        const token = await _servicesStorage.storageService.getToken();\n        const savedUser = await _servicesStorage.storageService.getUser();\n        if (token && savedUser) {\n          setUser(savedUser);\n        }\n      } catch (error) {\n        console.error('Auth check error:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await _servicesApi.authAPI.login(email, password);\n        await _servicesStorage.storageService.saveAuth(response.access_token, response.user);\n        setUser(response.user);\n      } catch (error) {\n        console.error('Login error:', error);\n        throw error;\n      }\n    };\n    const logout = async () => {\n      try {\n        await _servicesStorage.storageService.clearAuth();\n        setUser(null);\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        logout,\n        isAuthenticated: !!user\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":86,"map":[[8,2,16,0,"Object"],[8,8,16,0],[8,9,16,0,"defineProperty"],[8,23,16,0],[8,24,16,0,"exports"],[8,31,16,0],[9,4,16,0,"enumerable"],[9,14,16,0],[10,4,16,0,"get"],[10,7,16,0],[10,18,16,0,"get"],[10,19,16,0],[11,6,16,0],[11,13,16,0,"AuthProvider"],[11,25,16,0],[12,4,16,0],[13,2,16,0],[14,2,74,0,"Object"],[14,8,74,0],[14,9,74,0,"defineProperty"],[14,23,74,0],[14,24,74,0,"exports"],[14,31,74,0],[15,4,74,0,"enumerable"],[15,14,74,0],[16,4,74,0,"get"],[16,7,74,0],[16,18,74,0,"get"],[16,19,74,0],[17,6,74,0],[17,13,74,0,"useAuth"],[17,20,74,0],[18,4,74,0],[19,2,74,0],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,2,0],[21,6,2,0,"_servicesApi"],[21,18,2,0],[21,21,2,0,"require"],[21,28,2,0],[21,29,2,0,"_dependencyMap"],[21,43,2,0],[22,2,3,0],[22,6,3,0,"_servicesStorage"],[22,22,3,0],[22,25,3,0,"require"],[22,32,3,0],[22,33,3,0,"_dependencyMap"],[22,47,3,0],[23,2,3,53],[23,6,3,53,"_reactJsxDevRuntime"],[23,25,3,53],[23,28,3,53,"require"],[23,35,3,53],[23,36,3,53,"_dependencyMap"],[23,50,3,53],[24,2,14,0],[24,8,14,6,"AuthContext"],[24,19,14,17],[24,35,14,20],[24,39,14,20,"createContext"],[24,45,14,33],[24,46,14,33,"createContext"],[24,59,14,33],[24,61,14,63,"undefined"],[24,70,14,72],[24,71,14,73],[25,2,16,7],[25,8,16,13,"AuthProvider"],[25,20,16,25],[25,23,16,28,"AuthProvider"],[25,24,16,29],[26,4,16,31,"children"],[27,2,16,65],[27,3,16,66],[27,8,16,71],[28,4,17,2],[28,10,17,8],[28,11,17,9,"user"],[28,15,17,13],[28,17,17,15,"setUser"],[28,24,17,22],[28,25,17,23],[28,28,17,26],[28,32,17,26,"useState"],[28,38,17,34],[28,39,17,34,"useState"],[28,47,17,34],[28,49,17,48],[28,53,17,52],[28,54,17,53],[29,4,18,2],[29,10,18,8],[29,11,18,9,"loading"],[29,18,18,16],[29,20,18,18,"setLoading"],[29,30,18,28],[29,31,18,29],[29,34,18,32],[29,38,18,32,"useState"],[29,44,18,40],[29,45,18,40,"useState"],[29,53,18,40],[29,55,18,41],[29,59,18,45],[29,60,18,46],[30,4,20,2],[30,8,20,2,"useEffect"],[30,14,20,11],[30,15,20,11,"useEffect"],[30,24,20,11],[30,26,20,12],[30,32,20,18],[31,6,21,4,"checkAuth"],[31,15,21,13],[31,16,21,14],[31,17,21,15],[32,4,22,2],[32,5,22,3],[32,7,22,5],[32,9,22,7],[32,10,22,8],[33,4,24,2],[33,10,24,8,"checkAuth"],[33,19,24,17],[33,22,24,20],[33,28,24,20,"checkAuth"],[33,29,24,20],[33,34,24,32],[34,6,25,4],[34,10,25,8],[35,8,26,6],[35,14,26,12,"token"],[35,19,26,17],[35,22,26,20],[35,28,26,26,"storageService"],[35,44,26,40],[35,45,26,40,"storageService"],[35,59,26,40],[35,60,26,41,"getToken"],[35,68,26,49],[35,69,26,50],[35,70,26,51],[36,8,27,6],[36,14,27,12,"savedUser"],[36,23,27,21],[36,26,27,24],[36,32,27,30,"storageService"],[36,48,27,44],[36,49,27,44,"storageService"],[36,63,27,44],[36,64,27,45,"getUser"],[36,71,27,52],[36,72,27,53],[36,73,27,54],[37,8,29,6],[37,12,29,10,"token"],[37,17,29,15],[37,21,29,19,"savedUser"],[37,30,29,28],[37,32,29,30],[38,10,30,8,"setUser"],[38,17,30,15],[38,18,30,16,"savedUser"],[38,27,30,25],[38,28,30,26],[39,8,31,6],[40,6,32,4],[40,7,32,5],[40,8,32,6],[40,15,32,13,"error"],[40,20,32,18],[40,22,32,20],[41,8,33,6,"console"],[41,15,33,13],[41,16,33,14,"error"],[41,21,33,19],[41,22,33,20],[41,41,33,39],[41,43,33,41,"error"],[41,48,33,46],[41,49,33,47],[42,6,34,4],[42,7,34,5],[42,16,34,14],[43,8,35,6,"setLoading"],[43,18,35,16],[43,19,35,17],[43,24,35,22],[43,25,35,23],[44,6,36,4],[45,4,37,2],[45,5,37,3],[46,4,39,2],[46,10,39,8,"login"],[46,15,39,13],[46,18,39,16],[46,24,39,16,"login"],[46,25,39,23,"email"],[46,30,39,36],[46,32,39,38,"password"],[46,40,39,54],[46,45,39,59],[47,6,40,4],[47,10,40,8],[48,8,41,6],[48,14,41,12,"response"],[48,22,41,20],[48,25,41,23],[48,31,41,29,"authAPI"],[48,43,41,36],[48,44,41,36,"authAPI"],[48,51,41,36],[48,52,41,37,"login"],[48,57,41,42],[48,58,41,43,"email"],[48,63,41,48],[48,65,41,50,"password"],[48,73,41,58],[48,74,41,59],[49,8,42,6],[49,14,42,12,"storageService"],[49,30,42,26],[49,31,42,26,"storageService"],[49,45,42,26],[49,46,42,27,"saveAuth"],[49,54,42,35],[49,55,42,36,"response"],[49,63,42,44],[49,64,42,45,"access_token"],[49,76,42,57],[49,78,42,59,"response"],[49,86,42,67],[49,87,42,68,"user"],[49,91,42,72],[49,92,42,73],[50,8,43,6,"setUser"],[50,15,43,13],[50,16,43,14,"response"],[50,24,43,22],[50,25,43,23,"user"],[50,29,43,27],[50,30,43,28],[51,6,44,4],[51,7,44,5],[51,8,44,6],[51,15,44,13,"error"],[51,20,44,18],[51,22,44,20],[52,8,45,6,"console"],[52,15,45,13],[52,16,45,14,"error"],[52,21,45,19],[52,22,45,20],[52,36,45,34],[52,38,45,36,"error"],[52,43,45,41],[52,44,45,42],[53,8,46,6],[53,14,46,12,"error"],[53,19,46,17],[54,6,47,4],[55,4,48,2],[55,5,48,3],[56,4,50,2],[56,10,50,8,"logout"],[56,16,50,14],[56,19,50,17],[56,25,50,17,"logout"],[56,26,50,17],[56,31,50,29],[57,6,51,4],[57,10,51,8],[58,8,52,6],[58,14,52,12,"storageService"],[58,30,52,26],[58,31,52,26,"storageService"],[58,45,52,26],[58,46,52,27,"clearAuth"],[58,55,52,36],[58,56,52,37],[58,57,52,38],[59,8,53,6,"setUser"],[59,15,53,13],[59,16,53,14],[59,20,53,18],[59,21,53,19],[60,6,54,4],[60,7,54,5],[60,8,54,6],[60,15,54,13,"error"],[60,20,54,18],[60,22,54,20],[61,8,55,6,"console"],[61,15,55,13],[61,16,55,14,"error"],[61,21,55,19],[61,22,55,20],[61,37,55,35],[61,39,55,37,"error"],[61,44,55,42],[61,45,55,43],[62,6,56,4],[63,4,57,2],[63,5,57,3],[64,4,59,2],[64,24,60,4],[64,28,60,4,"_reactJsxDevRuntime"],[64,47,60,4],[64,48,60,4,"jsxDEV"],[64,54,60,4],[64,56,60,5,"AuthContext"],[64,67,60,16],[64,68,60,17,"Provider"],[64,76,60,25],[65,6,61,6,"value"],[65,11,61,11],[65,13,61,13],[66,8,62,8,"user"],[66,12,62,12],[67,8,63,8,"loading"],[67,15,63,15],[68,8,64,8,"login"],[68,13,64,13],[69,8,65,8,"logout"],[69,14,65,14],[70,8,66,8,"isAuthenticated"],[70,23,66,23],[70,25,66,25],[70,26,66,26],[70,27,66,27,"user"],[71,6,67,6],[71,7,67,8],[72,6,67,8,"children"],[72,14,67,8],[72,16,69,7,"children"],[73,4,69,15],[74,6,69,15,"fileName"],[74,14,69,15],[74,16,69,15,"_jsxFileName"],[74,28,69,15],[75,6,69,15,"lineNumber"],[75,16,69,15],[76,6,69,15,"columnNumber"],[76,18,69,15],[77,4,69,15],[77,11,70,26],[77,12,70,27],[78,2,72,0],[78,3,72,1],[79,2,74,7],[79,8,74,13,"useAuth"],[79,15,74,20],[79,18,74,23,"useAuth"],[79,19,74,23],[79,24,74,29],[80,4,75,2],[80,10,75,8,"context"],[80,17,75,15],[80,20,75,18],[80,24,75,18,"useContext"],[80,30,75,28],[80,31,75,28,"useContext"],[80,41,75,28],[80,43,75,29,"AuthContext"],[80,54,75,40],[80,55,75,41],[81,4,76,2],[81,8,76,6,"context"],[81,15,76,13],[81,20,76,18,"undefined"],[81,29,76,27],[81,31,76,29],[82,6,77,4],[82,12,77,10],[82,16,77,14,"Error"],[82,21,77,19],[82,22,77,20],[82,67,77,65],[82,68,77,66],[83,4,78,2],[84,4,79,2],[84,11,79,9,"context"],[84,18,79,16],[85,2,80,0],[85,3,80,1],[86,0,80,2],[86,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","logout","useAuth"],"mappings":"AAA;4BCe;YCI;GDE;oBEE;GFa;gBGE;GHS;iBIE;GJO;CDe;uBME;CNM"},"hasCjsExports":false},"type":"js/module"}]}